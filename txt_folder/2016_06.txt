<<<<<<< HEAD
Physica A 447 (2016) 455–466
Contents lists available at ScienceDirect
Physica A
journal homepage: www.elsevier.com/locate/physa
Selfishness- and Selflessness-based models of pedestrian
room evacuation
Xiao Songa,∗, Liang Maa, Yaofei Maa,∗, Chen Yangb, Hang Ji a
a School of Automation Science, Beihang University (BUAA), Beijing 100191, China
b Department of Electrical and Computer Engineering, University of Western Ontario, London, ON, Canada
h i g h l i g h t s
• Selfishness- and Selflessness-based model of pedestrian room evacuation is proposed.
• The selfish nature of human has counter effect of the total evacuation time.
• Pedestrian’ sympathy shows positive effect on evacuation efficiency.
• Door width has little influence when it is greater than 6 (room size over 50 × 50).
a r t i c l e i n f o
Article history:
Received 21 August 2015
Received in revised form 20 November
2015
Available online 29 December 2015
Keywords:
Evacuation
Game theory
Pedestrian dynamics
Cellular automata
Jungle law
a b s t r a c t
Some pedestrian evacuation studies have employed game strategy to deal with moving
conflicts involving two or three pedestrians. However, most of these have simply presented
game strategies for pedestrians without analyzing the reasons why they choose to defect
or cooperate. We believe that selfish and selfless behaviors are two main factors that
should be considered in evacuation. In addition to these behaviors, human emotions such
as sympathy and behaviors such as vying were also taken into account to investigate their
impacts on pedestrians’ strategies. Moreover, an essential objective factor, the building
design factor of door width was tested and analyzed. Experimental results showed that
the sense of self leads to more defectors and a longer evacuation time. However, sympathy
does some good, leading to more cooperators and a shorter evacuation time. Moreover, the
exit door width is an essential factor of the evacuation efficiency. When the width was less
than 6 cells in a rectangular room with a size greater than 50 × 50, the evacuation time
greatly decreased when the width increased. However, this effect was less obvious when
the width increased.
© 2015 Elsevier B.V. All rights reserved.
1. Introduction
Pedestrian congestion is an important phenomenon at the exits of buildings because it may develop into serious trample
accidents. Therefore, pedestrian dynamics has attracted much attention in the last decade, and many studies have been
performed. From the perspective of model granularity, these works can be divided into two classes: macroscopic models
based on a complex topology and microscopic models based on a simple topology. The former evacuation models can be
applied to situations such as tall buildings [1,2], cities [3,4], airports, and subway stations, with the goals of evacuation
guidance, finding exits [1,2], or evacuation training [5] from a macroscopic perspective. However, most of these kinds
∗ Corresponding authors.
E-mail addresses: songxiao@buaa.edu.cn (X. Song), mayaofei@163.com (Y. Ma).
http://dx.doi.org/10.1016/j.physa.2015.12.041
0378-4371/© 2015 Elsevier B.V. All rights reserved.
456 X. Song et al. / Physica A 447 (2016) 455–466
of evacuation scenarios ignore the details of pedestrian crowd behavior near doors or channels. In contrast, the latter
evacuation models can be used to analyze the bottleneck effect at emergency exits or channels from a microscopic
perspective, showing some essential pedestrian dynamics such as jamming and clogging, lane formation, and the ‘‘faster-isslower’’
effect [6–10], which reveal the essential reasons for pedestrian crowd behaviors. When comparing these two typical
cases, we find that a macroscopic model leans toward time-aware applications, and a microscopic model is more suitable
for studying the detailed pedestrian evacuation dynamics.
Normally, microscopic pedestrian models can be classified into two categories: social force models and cellular automata
(CA) models [7]. While a social force model is continuous in space and time, CA models are discrete and computationally
efficient. Based on its simplicity and high efficiency, some recent studies have used a floor field model to find the influences
of doors and barriers on pedestrian movement [11]. However, their designs mainly addressed the issue of finding a target
site, neglecting the complicated interactions among pedestrians such as conflicts (two or more agents that want to advance
to the same position at the same time). Recently, some researchers carried out studies to solve conflict by introducing
probabilities, friction effects in floor field models [6,12–14], and game theory. However, these studies only considered
that different pedestrians have different probabilities of moving to the conflicted target without analyzing their selfish and
selfless behaviors, or their sympathy and vying behavior.
This paper is organized as follows. Related works on evacuation-related theories and practices are presented in Section 2.
A core evacuation model is described in Section 3. It contains an environment model, target site finding, game strategy, and
conflict solving rules. Section 4 discusses and analyzes some simulation results. Finally, the conclusions are summarized in
Section 5.
2. Related works
In the last decade, numerous evacuation studies have been carried out to study the microscopic pedestrian dynamics.
Some works used game theory to solve the conflicts of pedestrian movements. For instance, Xie and Xue [15] combined CA
with game theory in their study. However, the human behavior effects were not mentioned. Hao et al. [16] performed some
further work. In their study, the spatial distribution of pedestrians was investigated, which was found to be independent of
the initial cooperation ratio when the width of a door was large enough. However, they only utilized a gaming strategy for
pedestrians without addressing why they choose to defect or cooperate when gaming with other agents (pedestrians).
Meanwhile, some researchers proposed that emotions such as rationality and tension were the main reasons for
pedestrian interactions and jams. Among these, Zheng and Cheng [17] considered the effect of rationality, which may
affect pedestrians’ evacuation strategy. They believed that individual hyper-rationality among evacuees diminished their
evacuation efficiency, and the imitation effect enhanced cooperation among evacuees, yet reduced their evacuation
efficiency. However, they only considered rationality in target site finding, neglecting the problem of conflict resolution.
In another study, Bouzat and Kuperman [18] found that under certain conditions, cooperators can gain an advantage from
mutual cooperation and leave the room more rapidly than defectors. They described the internal states of individuals, which
are independent of what is happening outside. However, the psychological features they mentioned were only implicitly
considered by the game theory, without being as concrete as pedestrian behaviors such as selfness and selflessness.
Moreover, Shi and Wang [19] indirectly introduced a cost-to-benefit ratio to a snowdrift model to simulate the fear
index of pedestrians, along with Pc (the probability to change the present strategy) to model a pedestrian’s strategy choice.
Miyoshi [20] suggests that an aircraft accident, the Garuda Indonesia Airways Accident, may have been caused by panicked
agents generating time delays in the evacuation flow toward the exits. To some extent, this research shows that more
pedestrians may defect under emergency conditions, showing people’s selfish nature. In Schadschneider [21], the ‘‘friction’’
concept was proposed to model an important aspect of pedestrian dynamics, i.e., ‘‘conflicts in which none of the involved
agents is allowed to move’’. Kirchner [22] reported results obtained using cellular automata for pedestrian dynamics with
friction. Rodrigo [23] stated that, ‘‘Those who defend Psychological Egoism say that healthy humans always behave in a
self-interested way, even when the actions seem to be altruistic ones. Thus, Psychological Egoism argues that altruism is
merely apparent and that all behaviors are motivated by personal gain’’. These studies showed that people often have a
selfish nature and thus may demonstrate selfish behavior in emergency evacuations. However, the psychological features
of strategy changing were less scrutinized in these works, such as selfness, sympathy, and vying behavior.
In addition to the above studies that considered the application of gaming theory to pedestrian dynamics, some other
researchers studied the effect of the door width on the evacuation efficiency. For example, Muir [24] presented the effects
of the cabin configuration on emergency aircraft evacuation behavior and the rates of egress. Kirchner [22] reported results
obtained using cellular automata for pedestrian dynamics with friction. Although these works investigated the effects of
the door width empirically, the gaming effect was neglected, and psychologically selfish and unselfish effects were not
considered. In this paper, we will try to include these factors in a further investigation of evacuation pedestrian flow.
3. Models
The evacuation scene is set in a rectangular room with a single door. Based on cellular automata and a lattice gas model,
the room has a size of W × L, and every cell can only be occupied by one pedestrian. The door width is D_W. We define a
coordinate system for the room, with x coordinates ranging from 0 to W − 1, and y coordinates ranging from 0 to L − 1. At
X. Song et al. / Physica A 447 (2016) 455–466 457
Fig. 1. Moving directions of pedestrians.
the beginning of the simulation, we initialize the number of pedestrians N ≥ 0 (the density of pedestrians ρ = N/(W ∗ L),
0 ≤ ρ ≤ 1), and the positions of the pedestrians are randomly distributed.
A time-stepped simulation is adopted, where pedestrians can move to one of their empty neighbor sites using target
choosing rules at each simulation step. When more than one pedestrian attempts to move to the same site, a conflict occurs.
Here, we assume that all the pedestrians show either selfish or selfless behaviors, which are the key factor for them to defect
or cooperate. Meanwhile, the sympathy emotion of the selfish and the vying behavior of the selfless are also considered to
affect the strategy evolution rules. In the simulation process, each simulation step contains three main stages:
• First, with the Moore neighborhood model and floor field model, every pedestrian chooses a neighboring target site to
jump to.
• Second, following the human selfishness or selflessness choices combined with the sympathy emotion and vying
behavior, pedestrians choose their strategy to defect or cooperate.
• Third, the payoffs are computed to solve the conflicts. Each defector or cooperator moves to his desired position according
to the corresponding payoff probability. Finally, the simulation finishes when all the agents have abandoned the room.
3.1. Stage one: neighboring target site selection rules
Previous studies involving a spatial game in a square lattice mostly used either a model of a Moore neighborhood or von
Neumann neighborhood. The former has eight neighbors and the latter has four [25]. In realistic situations, an agent is more
likely to have eight immediate neighbors rather than four because agents may have stochastic characteristics and some
probability to move to the detour sites [26]. Therefore, we use the Moore neighbor model as the site choice of pedestrians.
Each pedestrian may move to its empty Moore neighbor sites as shown by pedestrian (a) in Fig. 1.
Some studies with a Moore model (the model of a Moore neighborhood) considered unidirectional movements for
pedestrian flow [16], which means every pedestrian has five alternative sites, as shown by pedestrian (b) in Fig. 1. In a
comparison of multi-directional and unidirectional movements, we carried out two groups of experiments and found that
the crowd of the former forms an arch shape [27] near the door, while the latter rule cannot form this more realistic shape,
as shown in Fig. 2. This result again proves that realistic pedestrian behavior is to some extent non-deterministic, as Wurzer
et al. [26] proposed. Therefore, we employ the multi-directional rule as the pedestrian moving method.
With the multi-directional method, a pedestrian often chooses the most desirable site (the site with the greatest s value)
based on the static floor field model [28]. For every site in the room, its distance from the exit is inversely proportional to
its s value, with a shorter distance having a greater s value.
At each episode, each pedestrian chooses a target site with the probability P(i,j),
p(i,j) =
exp(s(i,j) ∗ kn) 
(i,j)∈Ω
exp(s(i,j) ∗ kn)
(1)
where kn represents the knowledge of the exit’s location. In this paper, we give it a constant value of five. (i, j) is the index
of one of the pedestrian’s empty Moore neighbor sites. Then, s(i,j) is the value of the static floor field, calculated using
458 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 2. Comparison of two movement rules for pedestrian dynamics. The left shows unidirectional movement rules, and the right shows eight alternative
movement rules.
Eq. (2). A larger s(i,j) means the site is closer to the exit door. Ω represents the collection of indices of all the pedestrian’s
empty Moore neighbor sites. With this equation, pedestrians can move to the best site with higher probability.
The value of the static floor field is calculated using the following equation.
s(i,j) = max
(i′,j′)∈Ω′

(xe − x(i′,j′))2 + (ye − y(i′,j′))2 −

(xe − x(i,j))2 + (ye − y(i,j))2 (2)
where x represents the x coordinate, and y represents the y coordinate. (i′, j′) represents the index of the site, and Ω′
represents the collection of all the sites in the square lattices. Then, max(i′,j′)∈Ω′

(xe − x(i′,j′))2 + (ye − y(i′,j′))2 represents
the largest distance of any site to the exit, and

(xe − x(i,j))2 + (ye − y(i,j))2 represents the distance between site (i, j) and
the exit.
3.2. Stage two: gaming strategies of pedestrians
Each agent chooses his game strategy at each time step, i.e., to cooperate or defect. In this stage, we will focus on why a
pedestrian chooses to defect or cooperate and how he changes his choice.
In previous studies, a pedestrian’s strategy was often invariable or changed based on a fixed rule without sufficient
explanations of why pedestrians used these strategies. For example, Hao [16] gave a schematic illustration of how
pedestrians changed their strategy, but no reasons were illustrated. Our proposition is to model the human behaviors from
human nature, i.e., selfish and selfless. A selfish pedestrian is mostly concerned with what kind of strategy they should use
to obtain the largest benefits when gaming with others [20,23], and the ‘‘law of the jungle’’ is most likely to be taken as their
rule, i.e., each person strives for himself. Comparably, the selfless pedestrian may be motivated by the acquisition of a good
reputation, expectation of reciprocity, or even religious beliefs (e.g., reward in the next life, going to heaven after death, etc.).
Thus, in our study, we mainly divide the pedestrians into two classes, the selfish and selfless. When pedestrians
experience conflicts, the selfish ones tend to defect, and the selfless tend to adopt the strategy of cooperation.
Sometimes the pedestrians showing selfish behavior can also show sympathy for someone else. Moreover, agent-based
models may also be stochastic, where randomness is introduced throughout. This may even include random changes to the
rules themselves [26,29–31]. We also consider the vying behavior of the selfless, which means the selfless is unwilling to
accept the defects of others, leading them to also defect. At each simulation episode, the strategy of the pedestrian may differ
from the last episode. The pedestrians adopt the strategy of defecting with the probability Pd and the strategy of cooperation
with the probability Pc ,
For ‘‘The selfish’’:
pd = exp(−ks) pc = 1 − exp(−ks). (3)
Here, as previously mentioned, we consider the sympathy emotion of the selfish pedestrians, which may change the
normal strategy of the selfish to one of cooperation. We introduce ks to denote the sympathy factor (0 ≤ ks). A high value
X. Song et al. / Physica A 447 (2016) 455–466 459
of ks means the selfish are more sympathetic to others, leading them to cooperate.
For ‘‘The selfless’’:
pd = 1 − exp(−kw) pc = exp(−kw). (4)
Here, the vying of the selfless is also considered, which may change the normal strategy of the selfless to defect. We
introduce kw to denote this vying factor (0 ≤ kw). A high kw means the selfless are more aggressive to defect.
3.3. Stage three: conflict resolution rules
In this stage, the gaming payoffs are computed to determine the probabilities of pedestrians moving to their selected
sites.
Based on a consideration of complicated interaction, a typical game-theory model, the Prisoner’s Dilemma, is adopted
for the resolution rules. In a Prisoner’s Dilemma game, there are two different strategies, which we define as cooperate (C)
and defect (D). First, we take a two-player game model as an example to explain the conflict resolution rules.
For the two-player game, the payoff matrix is as follows:
Player Opponent
C D
C R S
D T P
Note the first row shows the payoffs for C agents, while the second shows those for D agents. R is the payoff of the
two cooperators. P is the payoff of the two defectors. When one player cooperates and the other defects, the payoffs of the
cooperator and defector are (S, T ). The payoffs fulfill the condition: T > R > P > S, which implies four conclusions. (I)
Defectors will get the highest payoff when competing with cooperators. (II) Cooperators will get the lowest payoff when
competing with defectors. (III) Cooperators will get a relatively high payoff when they meet another cooperator, which
implies that joining hands will allow pedestrians to escape from the room more rapidly. (IV) Defectors will get a relatively
low payoff when they compete with another defect, which means when pedestrians defect with each other, jams appear,
and it is hard to move.
Based on the consideration of the Prisoner’s Dilemma game, we convert the payoff matrix to a probability matrix, which
represents the probability that each conflicted pedestrian moves.
Player Opponent
C D
C 1/2 0
D 1 1/2p
When conflict occurs, there are three possible cases. (I) If both are cooperators, each of them can move to the target site
with probability 1/2. (II) If one is a cooperator and the other is a defector, the defector will have the chance to move. (III) If
both are defectors, each of them can move to the target with probability 1/2p(1 ≤ p ≤ 2.5). Here, note that a larger value
of p represents a lower probability that the defectors can move to the target. They may all fail to move because of the jams.
In this sense, p is a punishment to defectors.
In our study, each pedestrian may compete with his neighbors in the Moore neighborhood. Then, the number of players
in a conflict may be two to eight, which means the two-player game rules can be extended to an n-player game.
Player Opponent
(n − 1)C, 0D (m−1)C, (n−m)D
C 1/n 0
D 1 1/(n − m)p
When conflict occurs in an n-player game, there are two kinds of cases. (I) If all are cooperators, each of them can move
to the target site with probability 1/n. (II) If there are m cooperators and n − m defectors, the cooperators will stay, and
each of the defectors can move to the target with probability 1/(n−m)p. Here, note that in case (II), each defector may win
with probability 1/(n − m)p. Thus, the probability of having a winner is 1/(n − m)p−1. They may all fail to move because
of the jams, and more defectors will make the jams more serious. In our study, the effect of punishment on the evacuation
dynamics is considered. Thus, we consider 1 ≤ p ≤ 2.5.
Here, we propose to compute a value called the Game Group Payoff (GP), which is the sum of the payoffs (probabilities)
of the players in a game group. In a game, the GP ranges from 0 to 1. This also represents the probability for a game group
to move. More defectors in a game, will cause the GP to be smaller. In other words, the GP reflects the degree of fierceness
460 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 3. Snapshot of room evacuation with population parameters L = W = 50, ρ = 0.4, D_W = 2, ks = 0, kw = 0, and Rs0 = 0.5.
in a game. Expanding GP to the whole evacuation process, by counting the mean value of GP in an evacuation, allows us to
infer the degree of fierceness of an evacuation.
Once the strategy selection and conflicts have been resolved, the winner of the game will move to his target site. If any
pedestrians arrive at the exit, the system will remove them.
4. Simulation and analysis
The pedestrian dynamics is studied by conducting experiments for the following cases.
(I) To study the evacuation effect of the ratio of selfish pedestrians, experiments are implemented to determine how a
heterogeneous population with selfish and selfless pedestrians affects the evacuation efficiency.
(II) To analyze the evacuation effects of human emotions and behaviors, a group of simulations are devised to study how
the sympathy factor (ks) and vying factor (kw) affect the evacuation efficiency.
(III) To study the evacuation effect of the exit door width, we design a group of experiments to determine how the building
design factors such as the door width affect the evacuation efficiency.
In this study, the evacuation time equals the number of simulation steps when all the pedestrians completely escape
from the room.
To provide trustworthy results for the following figures, the tests were executed 100 times, and the mean values are
displayed. The half-width of each confidence interval was less than 5% of the mean respective value when the confidence
level was 0.95.
4.1. Evacuation effect of selfish pedestrian ratio
In this section, we design experiments for a heterogeneous population with different social behaviors, i.e., the selfish and
selfless pedestrians. Selfish pedestrians are concerned with the best strategy for obtaining the largest benefits when gaming
with others. They may follow the law of the jungle and tend to defect. On the other hand, the selfless pedestrians choose to
cooperate when they conflict with another pedestrian.
In this case, we design a system with a fixed door width and fixed pedestrian density to study some additional relevant
parameters affecting evacuation, such as the initial selfish ratio (Rs0) and average Game Group Payoff (GP). A snapshot of
the pedestrians in an evacuation simulation is shown in Fig. 3.
Fig. 4 shows the total evacuation time as a function of the initial selfish ratio (Rs0) with fixed parameters, where ρ is 0.6,
ks is 0, and kw is 0. We can observe an exponential growth in the total evacuation time with the initial selfish pedestrian
ratio. This increase in the time is due to the fact that a larger value of Rs0 will result in a larger number of defect pedestrians,
resulting in a lower evacuation efficiency.
X. Song et al. / Physica A 447 (2016) 455–466 461
Fig. 4. Evacuation time against ratio of selfish pedestrians (Rs0).
Fig. 5. Evolution of GP with change in selfish ratio (Rs0).
In an evacuation process the selfish always show their advantage on escaping just like the laws of jungle. However,
when the ratio of the selfish increases, the evacuation efficiency always decreases exponentially. To study the deeper factors
affecting the evacuation efficiency, we determine the statistics of the average Group Game Payoff (GP), which represents
the conflict degree of the game (a smaller GP means greater conflict and vice versa) in the evacuation process, as shown in
Fig. 5.
Fig. 5 shows the evolution of GP with a change in the initial selfish ratio (Rs0). It shows a decrease when Rs0 increases,
which means more selfish pedestrians result in more fierce competitions. This shows that increasing Rs0 decreases the
evacuation efficiency, due to more gaming conflicts.
4.2. Evacuation effect of gaming punishment value
In this section, we take the gaming punishment value into consideration. As depicted in Section 3.3, each defector may
win with probability 1/(n − m)p. Thus, the probability of having a winner is 1/(n − m)p−1. If p is greater than 1, all of
the pedestrians may fail to move at one time because of the friction, and more defectors lead to worse conditions. In this
section, we try to investigate how the punishment p affects the evacuation efficiency. Here, experiments are respectively
implemented for the all selfishness case (Rs = 1.0) and all selflessness case (Rs = 0).
Fig. 6 shows the total evacuation time against the initial pedestrian density and punishment value, with the parameters
D_W = 2, ks = 0, and kw = 0. In Fig. 6a, all the pedestrians are selfish (Rs = 1.0).Wecan observe a linear growth in the total
evacuation time with the punishment. This increase in the time occurs because as the value of p increases, more pedestrians
(in the same conflict group) fail to move to their target. On the other hand, we consider the scene when all the pedestrians
are selfless (Rs = 0). In Fig. 6b, we find that no matter how we change the punishment value, the evacuation efficiency stays
the same. This is because when kw equals zero, the selfless pedestrians all maintain their cooperation strategy. Thus, there
is no punishment in the conflict.
462 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 6a. Total evacuation time against different punishment values, with all selfish pedestrians.
Fig. 6b. Total evacuation time against different punishment values, with all selfless pedestrians.
4.3. Evacuation effect of human emotions
In this section, we attempt to analyze how human behaviors and emotions affect the evacuation efficiency. Here, the
emotions mainly refer to sympathy and vying.
For the sympathy, we design a case where the ratio of selfish pedestrians is fixed at one. In this case, all the pedestrians
have high physical strength and change their defecting strategy based on their sympathy factor (ks). A high sympathy value
means the selfish pedestrians are more likely to cooperate, and a low sympathy value means they tend to defect.
Fig. 7 shows the results for the evacuation time with different sympathy factors (ks). We can observe that a larger real
time cooperation ratio (Rc ) often leads to a shorter evacuation time because of fewer conflicts.
In Fig. 7a, we see that the evacuation time exponentially decreases when ks increases. In addition, when ks is zero, all
the selfish pedestrians show no sympathy for others and choose the defect strategy. This greatly lowers the evacuation
efficiency. When ks reaches a value of eight, all the selfish pedestrians tend to cooperate with others, which makes the
evacuation time close to the minimum.
Fig. 7b shows the evolution of the cooperation ratio for different ks. As discussed in Sections 3.2 and 3.3, we adopt a
strategy evolution rule, in which a pedestrian’s game strategy may vary throughout the whole evacuation process. In this
figure, we can observe that the cooperation ratio oscillates all the time because the pedestrians change their game strategies
at each time step. When ks is low, the pedestrians tend to defect, and when ks is high, the pedestrians tend to cooperate,
which results in a high cooperation ratio for a high ks and a low cooperation ratio for a low ks. This shows that a virtue of
the pedestrians, such as sympathy, can cause them to help each other and improve the evacuation efficiency.
For the vying behavior, we consider the case where the pedestrians are all selfless. In this case, all the pedestrians have
a low physical strength and change their cooperation strategies based on their vying factor (kw). A high vying value means
that the selfless pedestrians tend to defect, whereas with a low vying value, they tend to keep their normal strategy and
cooperate. We mainly study how vying affects the evacuation efficiency in this case. In order to display the simulation
dynamics, we design the experiment to consider parameters that include the vying factor (kw) and real-time cooperation
ratio (Rc ).
Fig. 8 mainly shows the results of the total evacuation time with different vying factors (kw) and real time cooperation
ratios (Rc ). In Fig. 8a, we see that the evacuation time exponentially increases with kw. Note that when kw is zero, the
X. Song et al. / Physica A 447 (2016) 455–466 463
Fig. 7a. Result of total evacuation time against different sympathy factors (ks).
Fig. 7b. Real time cooperation ratio (Rc) changes with different ks.
Fig. 8a. Total evacuation time with different vying factors (kw).
pedestrians all choose the strategy of cooperation, and in this situation, they have more success in evacuating. When
kw reaches a value of eight, the selfless cannot tolerate the defectors, so they tend to defect, which leads to the longest
evacuation time.
Fig. 8b shows the evolution of the cooperation ratio for different kw. Similar to Fig. 7b, we see that based on the strategy
evolution rule, the cooperation ratio oscillates at a certain value because of the pedestrians changing their game strategies
at every time step. When kw is low, the pedestrians tend to cooperate, and when kw is high, the pedestrians tend to defect,
which results in a high cooperation ratio for a low kw and a low cooperation ratio for a high kw.
464 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 8b. Real time cooperation ratio (Rc) with different kw.
4.4. Evacuation effect of door width
To compute the exit width’s effect on the evacuation efficiency, in this subsection we mainly consider cases in which
the ratio of selfish pedestrians is fixed at one. We try to study how building design factors such as the door width affect the
evacuation efficiency.
Fig. 8 shows the results for the evacuation time in a square room with different door widths (D_W) and initial pedestrian
densities (ρ). In Fig. 8a, we can observe that the evacuation time decreases with an increase in D_W.
Three conclusions can be drawn from Fig. 9.
First, the door width has a great impact on the evacuation efficiency when it is small. For instance, the evacuation time
becomes much shorter when D_W increases from 1 cell to 2 cells. Fig. 9b gives the proof that the GP value rises sharply
against the door width when it is small.
Second, when the door width is larger than 6 cells, it does not have an obvious influence on the evacuation time. This
conclusion can be used as a reference for door width design. Fig. 9b gives proof that the GP value reaches a relatively stable
value when the door width exceeds six.
Third, there is always a jump in T when D_W increases from an odd number to an even number, and this phenomenon is
clearer with a greater density. This means that an even number of door width cells may have a greater effect on decreasing
the evacuation time than an odd number of door width cells. Fig. 9b gives proof that the GP value has an obvious rise when
the door width increases from an odd number to an even number.
Fourth, with the same door width, the evacuation time linearly increases as the pedestrian density increases. However,
note that the slope of the different door width line is not the same. It decreases when the door width increases. This is
because a smaller width causes more gaming conflicts and results in a longer evacuation time.
5. Conclusion
Previous studies primarily considered the ratio of game strategies (cooperate and defect) as the main study parameter.
However, most of them neglected the fact that the game strategy is determined by a human’s selfish or selfless behavior,
and thus involves emotions such as sympathy and vying. In this paper, we assumed that the human sense of self leads to a
defecting or cooperation gaming strategy based on his behavior choice and emotions. Thus, human behavior was considered
with game theory to study a more realistic microscopic pedestrian crowd evacuation model.
Several conclusions are drawn as follows.
(1) In an evacuation process, the selfish pedestrians always have an advantage in escaping because the law of the jungle
takes effect. However,wefind that the total evacuation time increases exponentially when the ratio of selfish pedestrians
increases. This means that selfish human behavior normally has a counter effect on the evacuation efficiency, and the
selfless can benefit from mutual cooperation and leave the room more rapidly than defectors.
(2) Human emotions such as sympathy and vying affect the evacuation efficiency. A pedestrian’s sympathy promotes his
cooperation with others, which is positive for the evacuation efficiency. The evacuation efficiency decreases as the vying
factor rises. With a high vying factor, the total evacuation efficiency is seriously harmed.
X. Song et al. / Physica A 447 (2016) 455–466 465
Fig. 9a. Evacuation time against door width (D_W) for different initial pedestrian densities.
(3) As a building design factor, the door width greatly affects the evacuation efficiency.Wereached the important conclusion
that the door width has little influence on the total evacuation time after it reaches a size greater than six. Moreover,
there is always a decrease in the total evacuation time when the number of door cells increases from an odd number to
an even number.
Acknowledgments
This research was supported by grant 61473013 from National Natural Science Foundation of China. Authors thank
reviewers for their comments.
466 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 9b. Average Group Payoff (GP) against door width (D_W) for different initial pedestrian densities.
References
[1] Jeongin Koo, Yong Seog Kim, Byung-In Kim, Keith M. Christensen, A comparative study of evacuation strategies for people with disabilities in high-rise
building evacuation, Expert Syst. Appl. 40 (2013) 408–417.
[2] Lu Tan, Mingyuan Hu, Hui Lin, Agent-based simulation of building evacuation: Combining human behavior with predictable spatial accessibility in a
fire emergency, Inform. Sci. 295 (2015) 53–66.
[3] Kashif Zia, Katayoun Farrahi, Andreas Riener, Alois Ferscha, An agent-based parallel geo-simulation of urban mobility during city-scale evacuation,
Simulation: Trans. Soc. Model. Simul. Int. 89 (10) (2013) 1184–1214.
[4] Marco D’Orazio, Luca Spalazzi, Enrico Quagliarini, Gabriele Bernardini, Agent-based model for earthquake pedestrians’ evacuation in urban outdoor
scenarios: Behavioral patterns definition and evacuation paths choice, Saf. Sci. 62 (2014) 450–465.
[5] João Ribeiro, João Emílio Almeida, Rosaldo J.F. Rossetti, António Coelho, António Leça Coelho, Using serious games to train evacuation behavior, Inf.
Syst. Technol. (CISTI) 7 (2012) 1–6.
[6] Qing-Yi Hao, Mao-Bin Hu, Xue-Qi Cheng, Wei-Guo Song, Rui Jiang, Qing-Song Wu, Pedestrian flow in a lattice gas model with parallel update, Phys.
Rev. E 82 (2) (2010) 2365–2376.
[7] Claudio Castellano, Santo Fortunato, Vittorio Loreto, Statistical physics of social dynamics, Rev. Modern Phys. 81 (2) (2009) 591–646.
[8] Vi Ha, George Lykotrafitis, Agent-based modeling of a multi-room multi-floor building emergency evacuation, Physica A 391 (8) (2012) 2740–2751.
[9] Rita F. Fahy, Guylène Proulx, Lata Aiman, Panic or not in fire: Clarifying the misconception, Fire Mater. 36 (2012) 328–338.
[10] Christian Rogsch, Michael Schreckenberg, Eric Tribble, Was it panic? An overview about mass-emergencies and their origins all over the world for
recent years, Pedestrian Evacuation Dyn. (2008) 743–755.
[11] Katsuhiro Nishinari, Ansgar Kirchner, Alireza Namazi, Andreas Schadschneider, Extended floor field CA model for evacuation dynamics, IEEE Trans.
Inf. Syst. 87 (3) (2004) 726–732.
[12] C. Burstedde, K. Klauck, A. Schadschneider, J. Zittartz, Simulation of pedestrian dynamics using a two-dimensional cellular automaton, Physica A 295
(2001) 507–525.
[13] Ekaterina Kirik, Tat’yana Yurgel’yan, Dmitriy Krouglov, An intelligent floor field cellular automata model for pedestrian dynamics. Eprint Arxiv, 2009.
[14] Ansgar Kirchner, Katsuhiro Nishinari, Andreas Schadschneider, Friction effects and clogging in a cellular automaton model for pedestrian dynamics,
Phys. Rev. E 67 (5) (2003) 369–384.
[15] Xie Ji-jian, Xue Yu, Study on the dynamics of indoor pedestrian evacuation based on the game, in: International Conference on Natural Computation,
2011, Vol.4, pp. 2283–2287.
[16] Qing-Yi Hao, Rui Jiang, Mao-Bin Hu, Bin Jia, Qing-Song Wu, Pedestrian flow dynamics in a lattice gas model coupled with an evolutionary game, Phys.
Rev. E 84 (3) (2011) 247–268.
[17] Xiaoping Zheng, Yuan Cheng, Conflict game in evacuation process: A study combining Cellular Automata model, Phys. A 390 (6) (2011) 1042–1050.
[18] S. Bouzat, M.N. Kuperman, Game theory in models of pedestrian room evacuation, Phys. Rev. E 89 (3) (2014) 256–266.
[19] Dong-Mei Shi, Bing-Hong Wang, Evacuation of pedestrians from a single room by using snowdrift game theories, Phys. Rev. E 87 (2) (2013) 022802.
[20] T. Miyoshi, H. Nakayasu, Y. Ueno, et al., An emergency aircraft evacuation simulation considering passenger emotions, Comput. Ind. Eng. 62 (3) (2012)
746–754.
[21] Andreas Schadschneider, Conflicts and friction in pedestrian dynamics, Lect. Notes Comp. Sc. 2008, Vol. 5191, pp. 559–562.
[22] Ansgar Kirchner, Hubert Klupfel, Katsuhiro Nishinari, et al., Simulation of competitive egress behavior: Comparison with aircraft evacuation data,
Physica A 324 (2003) 689–698.
[23] Marcelo Rodrigo de Souza Pita, Fernando Buarque de Lima Neto, Simulations of Egoistic and Altruistic Behaviors Using the Vidya Multiagent System
Platform, GECCO’07, 2007, pp. 2927–2932.
[24] Helen C. Muir, David M. Bottomley, Claire Marrison, Effects of motivation and cabin configuration on emergency aircraft evacuation behavior and
rates of egress, Int. J. Aviat. Psychol. 6 (1996) 57–77.
[25] N.H. Packard, S. Wolfram, Two-dimensional cellular automata, J. Stat. Phys. 38 (5–6) (1985) 901–946.
[26] Gabriel Wurzer, Kerstin Kowarik, Hans Reschreiter, Agent-Based Modeling and Simulation in Archaeology, Springer International Publishing,
Switzerland, 2015.
[27] Jun Tanimoto, Aya Hagishima, Yasukaka Tanaka, Study of bottleneck effect at an emergency evacuation exit using cellular automata model, mean field
approximation analysis, and game theory, Physica A 389 (24) (2010) 5611–5618.
[28] Ansgar Kirchner, Andreas Schadschneider, Simulation of evacuation processes using a bionics-inspired cellular automaton model for pedestrian
dynamics, Physica A 1 (2002) 260–276.
[29] X. Song, S. Zhang, Lidong Qian, Opinion dynamics in networked command and control organizations, Physica A 392 (2013) 5206–5217.
[30] X. Song, W. Shi, G. Tan, Y. Ma, Multi-level tolerance opinion dynamics in military command and control networks, Physica A 437 (11) (2015) 322–332.
[31] X. Song, W. Shi, Y. Ma, C. Yang, Impact of informal networks on opinion dynamics in hierarchically formal organization, Physica A 436 (10) (2015)
=======
Physica A 447 (2016) 455–466
Contents lists available at ScienceDirect
Physica A
journal homepage: www.elsevier.com/locate/physa
Selfishness- and Selflessness-based models of pedestrian
room evacuation
Xiao Songa,∗, Liang Maa, Yaofei Maa,∗, Chen Yangb, Hang Ji a
a School of Automation Science, Beihang University (BUAA), Beijing 100191, China
b Department of Electrical and Computer Engineering, University of Western Ontario, London, ON, Canada
h i g h l i g h t s
• Selfishness- and Selflessness-based model of pedestrian room evacuation is proposed.
• The selfish nature of human has counter effect of the total evacuation time.
• Pedestrian’ sympathy shows positive effect on evacuation efficiency.
• Door width has little influence when it is greater than 6 (room size over 50 × 50).
a r t i c l e i n f o
Article history:
Received 21 August 2015
Received in revised form 20 November
2015
Available online 29 December 2015
Keywords:
Evacuation
Game theory
Pedestrian dynamics
Cellular automata
Jungle law
a b s t r a c t
Some pedestrian evacuation studies have employed game strategy to deal with moving
conflicts involving two or three pedestrians. However, most of these have simply presented
game strategies for pedestrians without analyzing the reasons why they choose to defect
or cooperate. We believe that selfish and selfless behaviors are two main factors that
should be considered in evacuation. In addition to these behaviors, human emotions such
as sympathy and behaviors such as vying were also taken into account to investigate their
impacts on pedestrians’ strategies. Moreover, an essential objective factor, the building
design factor of door width was tested and analyzed. Experimental results showed that
the sense of self leads to more defectors and a longer evacuation time. However, sympathy
does some good, leading to more cooperators and a shorter evacuation time. Moreover, the
exit door width is an essential factor of the evacuation efficiency. When the width was less
than 6 cells in a rectangular room with a size greater than 50 × 50, the evacuation time
greatly decreased when the width increased. However, this effect was less obvious when
the width increased.
© 2015 Elsevier B.V. All rights reserved.
1. Introduction
Pedestrian congestion is an important phenomenon at the exits of buildings because it may develop into serious trample
accidents. Therefore, pedestrian dynamics has attracted much attention in the last decade, and many studies have been
performed. From the perspective of model granularity, these works can be divided into two classes: macroscopic models
based on a complex topology and microscopic models based on a simple topology. The former evacuation models can be
applied to situations such as tall buildings [1,2], cities [3,4], airports, and subway stations, with the goals of evacuation
guidance, finding exits [1,2], or evacuation training [5] from a macroscopic perspective. However, most of these kinds
∗ Corresponding authors.
E-mail addresses: songxiao@buaa.edu.cn (X. Song), mayaofei@163.com (Y. Ma).
http://dx.doi.org/10.1016/j.physa.2015.12.041
0378-4371/© 2015 Elsevier B.V. All rights reserved.
456 X. Song et al. / Physica A 447 (2016) 455–466
of evacuation scenarios ignore the details of pedestrian crowd behavior near doors or channels. In contrast, the latter
evacuation models can be used to analyze the bottleneck effect at emergency exits or channels from a microscopic
perspective, showing some essential pedestrian dynamics such as jamming and clogging, lane formation, and the ‘‘faster-isslower’’
effect [6–10], which reveal the essential reasons for pedestrian crowd behaviors. When comparing these two typical
cases, we find that a macroscopic model leans toward time-aware applications, and a microscopic model is more suitable
for studying the detailed pedestrian evacuation dynamics.
Normally, microscopic pedestrian models can be classified into two categories: social force models and cellular automata
(CA) models [7]. While a social force model is continuous in space and time, CA models are discrete and computationally
efficient. Based on its simplicity and high efficiency, some recent studies have used a floor field model to find the influences
of doors and barriers on pedestrian movement [11]. However, their designs mainly addressed the issue of finding a target
site, neglecting the complicated interactions among pedestrians such as conflicts (two or more agents that want to advance
to the same position at the same time). Recently, some researchers carried out studies to solve conflict by introducing
probabilities, friction effects in floor field models [6,12–14], and game theory. However, these studies only considered
that different pedestrians have different probabilities of moving to the conflicted target without analyzing their selfish and
selfless behaviors, or their sympathy and vying behavior.
This paper is organized as follows. Related works on evacuation-related theories and practices are presented in Section 2.
A core evacuation model is described in Section 3. It contains an environment model, target site finding, game strategy, and
conflict solving rules. Section 4 discusses and analyzes some simulation results. Finally, the conclusions are summarized in
Section 5.
2. Related works
In the last decade, numerous evacuation studies have been carried out to study the microscopic pedestrian dynamics.
Some works used game theory to solve the conflicts of pedestrian movements. For instance, Xie and Xue [15] combined CA
with game theory in their study. However, the human behavior effects were not mentioned. Hao et al. [16] performed some
further work. In their study, the spatial distribution of pedestrians was investigated, which was found to be independent of
the initial cooperation ratio when the width of a door was large enough. However, they only utilized a gaming strategy for
pedestrians without addressing why they choose to defect or cooperate when gaming with other agents (pedestrians).
Meanwhile, some researchers proposed that emotions such as rationality and tension were the main reasons for
pedestrian interactions and jams. Among these, Zheng and Cheng [17] considered the effect of rationality, which may
affect pedestrians’ evacuation strategy. They believed that individual hyper-rationality among evacuees diminished their
evacuation efficiency, and the imitation effect enhanced cooperation among evacuees, yet reduced their evacuation
efficiency. However, they only considered rationality in target site finding, neglecting the problem of conflict resolution.
In another study, Bouzat and Kuperman [18] found that under certain conditions, cooperators can gain an advantage from
mutual cooperation and leave the room more rapidly than defectors. They described the internal states of individuals, which
are independent of what is happening outside. However, the psychological features they mentioned were only implicitly
considered by the game theory, without being as concrete as pedestrian behaviors such as selfness and selflessness.
Moreover, Shi and Wang [19] indirectly introduced a cost-to-benefit ratio to a snowdrift model to simulate the fear
index of pedestrians, along with Pc (the probability to change the present strategy) to model a pedestrian’s strategy choice.
Miyoshi [20] suggests that an aircraft accident, the Garuda Indonesia Airways Accident, may have been caused by panicked
agents generating time delays in the evacuation flow toward the exits. To some extent, this research shows that more
pedestrians may defect under emergency conditions, showing people’s selfish nature. In Schadschneider [21], the ‘‘friction’’
concept was proposed to model an important aspect of pedestrian dynamics, i.e., ‘‘conflicts in which none of the involved
agents is allowed to move’’. Kirchner [22] reported results obtained using cellular automata for pedestrian dynamics with
friction. Rodrigo [23] stated that, ‘‘Those who defend Psychological Egoism say that healthy humans always behave in a
self-interested way, even when the actions seem to be altruistic ones. Thus, Psychological Egoism argues that altruism is
merely apparent and that all behaviors are motivated by personal gain’’. These studies showed that people often have a
selfish nature and thus may demonstrate selfish behavior in emergency evacuations. However, the psychological features
of strategy changing were less scrutinized in these works, such as selfness, sympathy, and vying behavior.
In addition to the above studies that considered the application of gaming theory to pedestrian dynamics, some other
researchers studied the effect of the door width on the evacuation efficiency. For example, Muir [24] presented the effects
of the cabin configuration on emergency aircraft evacuation behavior and the rates of egress. Kirchner [22] reported results
obtained using cellular automata for pedestrian dynamics with friction. Although these works investigated the effects of
the door width empirically, the gaming effect was neglected, and psychologically selfish and unselfish effects were not
considered. In this paper, we will try to include these factors in a further investigation of evacuation pedestrian flow.
3. Models
The evacuation scene is set in a rectangular room with a single door. Based on cellular automata and a lattice gas model,
the room has a size of W × L, and every cell can only be occupied by one pedestrian. The door width is D_W. We define a
coordinate system for the room, with x coordinates ranging from 0 to W − 1, and y coordinates ranging from 0 to L − 1. At
X. Song et al. / Physica A 447 (2016) 455–466 457
Fig. 1. Moving directions of pedestrians.
the beginning of the simulation, we initialize the number of pedestrians N ≥ 0 (the density of pedestrians ρ = N/(W ∗ L),
0 ≤ ρ ≤ 1), and the positions of the pedestrians are randomly distributed.
A time-stepped simulation is adopted, where pedestrians can move to one of their empty neighbor sites using target
choosing rules at each simulation step. When more than one pedestrian attempts to move to the same site, a conflict occurs.
Here, we assume that all the pedestrians show either selfish or selfless behaviors, which are the key factor for them to defect
or cooperate. Meanwhile, the sympathy emotion of the selfish and the vying behavior of the selfless are also considered to
affect the strategy evolution rules. In the simulation process, each simulation step contains three main stages:
• First, with the Moore neighborhood model and floor field model, every pedestrian chooses a neighboring target site to
jump to.
• Second, following the human selfishness or selflessness choices combined with the sympathy emotion and vying
behavior, pedestrians choose their strategy to defect or cooperate.
• Third, the payoffs are computed to solve the conflicts. Each defector or cooperator moves to his desired position according
to the corresponding payoff probability. Finally, the simulation finishes when all the agents have abandoned the room.
3.1. Stage one: neighboring target site selection rules
Previous studies involving a spatial game in a square lattice mostly used either a model of a Moore neighborhood or von
Neumann neighborhood. The former has eight neighbors and the latter has four [25]. In realistic situations, an agent is more
likely to have eight immediate neighbors rather than four because agents may have stochastic characteristics and some
probability to move to the detour sites [26]. Therefore, we use the Moore neighbor model as the site choice of pedestrians.
Each pedestrian may move to its empty Moore neighbor sites as shown by pedestrian (a) in Fig. 1.
Some studies with a Moore model (the model of a Moore neighborhood) considered unidirectional movements for
pedestrian flow [16], which means every pedestrian has five alternative sites, as shown by pedestrian (b) in Fig. 1. In a
comparison of multi-directional and unidirectional movements, we carried out two groups of experiments and found that
the crowd of the former forms an arch shape [27] near the door, while the latter rule cannot form this more realistic shape,
as shown in Fig. 2. This result again proves that realistic pedestrian behavior is to some extent non-deterministic, as Wurzer
et al. [26] proposed. Therefore, we employ the multi-directional rule as the pedestrian moving method.
With the multi-directional method, a pedestrian often chooses the most desirable site (the site with the greatest s value)
based on the static floor field model [28]. For every site in the room, its distance from the exit is inversely proportional to
its s value, with a shorter distance having a greater s value.
At each episode, each pedestrian chooses a target site with the probability P(i,j),
p(i,j) =
exp(s(i,j) ∗ kn) 
(i,j)∈Ω
exp(s(i,j) ∗ kn)
(1)
where kn represents the knowledge of the exit’s location. In this paper, we give it a constant value of five. (i, j) is the index
of one of the pedestrian’s empty Moore neighbor sites. Then, s(i,j) is the value of the static floor field, calculated using
458 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 2. Comparison of two movement rules for pedestrian dynamics. The left shows unidirectional movement rules, and the right shows eight alternative
movement rules.
Eq. (2). A larger s(i,j) means the site is closer to the exit door. Ω represents the collection of indices of all the pedestrian’s
empty Moore neighbor sites. With this equation, pedestrians can move to the best site with higher probability.
The value of the static floor field is calculated using the following equation.
s(i,j) = max
(i′,j′)∈Ω′

(xe − x(i′,j′))2 + (ye − y(i′,j′))2 −

(xe − x(i,j))2 + (ye − y(i,j))2 (2)
where x represents the x coordinate, and y represents the y coordinate. (i′, j′) represents the index of the site, and Ω′
represents the collection of all the sites in the square lattices. Then, max(i′,j′)∈Ω′

(xe − x(i′,j′))2 + (ye − y(i′,j′))2 represents
the largest distance of any site to the exit, and

(xe − x(i,j))2 + (ye − y(i,j))2 represents the distance between site (i, j) and
the exit.
3.2. Stage two: gaming strategies of pedestrians
Each agent chooses his game strategy at each time step, i.e., to cooperate or defect. In this stage, we will focus on why a
pedestrian chooses to defect or cooperate and how he changes his choice.
In previous studies, a pedestrian’s strategy was often invariable or changed based on a fixed rule without sufficient
explanations of why pedestrians used these strategies. For example, Hao [16] gave a schematic illustration of how
pedestrians changed their strategy, but no reasons were illustrated. Our proposition is to model the human behaviors from
human nature, i.e., selfish and selfless. A selfish pedestrian is mostly concerned with what kind of strategy they should use
to obtain the largest benefits when gaming with others [20,23], and the ‘‘law of the jungle’’ is most likely to be taken as their
rule, i.e., each person strives for himself. Comparably, the selfless pedestrian may be motivated by the acquisition of a good
reputation, expectation of reciprocity, or even religious beliefs (e.g., reward in the next life, going to heaven after death, etc.).
Thus, in our study, we mainly divide the pedestrians into two classes, the selfish and selfless. When pedestrians
experience conflicts, the selfish ones tend to defect, and the selfless tend to adopt the strategy of cooperation.
Sometimes the pedestrians showing selfish behavior can also show sympathy for someone else. Moreover, agent-based
models may also be stochastic, where randomness is introduced throughout. This may even include random changes to the
rules themselves [26,29–31]. We also consider the vying behavior of the selfless, which means the selfless is unwilling to
accept the defects of others, leading them to also defect. At each simulation episode, the strategy of the pedestrian may differ
from the last episode. The pedestrians adopt the strategy of defecting with the probability Pd and the strategy of cooperation
with the probability Pc ,
For ‘‘The selfish’’:
pd = exp(−ks) pc = 1 − exp(−ks). (3)
Here, as previously mentioned, we consider the sympathy emotion of the selfish pedestrians, which may change the
normal strategy of the selfish to one of cooperation. We introduce ks to denote the sympathy factor (0 ≤ ks). A high value
X. Song et al. / Physica A 447 (2016) 455–466 459
of ks means the selfish are more sympathetic to others, leading them to cooperate.
For ‘‘The selfless’’:
pd = 1 − exp(−kw) pc = exp(−kw). (4)
Here, the vying of the selfless is also considered, which may change the normal strategy of the selfless to defect. We
introduce kw to denote this vying factor (0 ≤ kw). A high kw means the selfless are more aggressive to defect.
3.3. Stage three: conflict resolution rules
In this stage, the gaming payoffs are computed to determine the probabilities of pedestrians moving to their selected
sites.
Based on a consideration of complicated interaction, a typical game-theory model, the Prisoner’s Dilemma, is adopted
for the resolution rules. In a Prisoner’s Dilemma game, there are two different strategies, which we define as cooperate (C)
and defect (D). First, we take a two-player game model as an example to explain the conflict resolution rules.
For the two-player game, the payoff matrix is as follows:
Player Opponent
C D
C R S
D T P
Note the first row shows the payoffs for C agents, while the second shows those for D agents. R is the payoff of the
two cooperators. P is the payoff of the two defectors. When one player cooperates and the other defects, the payoffs of the
cooperator and defector are (S, T ). The payoffs fulfill the condition: T > R > P > S, which implies four conclusions. (I)
Defectors will get the highest payoff when competing with cooperators. (II) Cooperators will get the lowest payoff when
competing with defectors. (III) Cooperators will get a relatively high payoff when they meet another cooperator, which
implies that joining hands will allow pedestrians to escape from the room more rapidly. (IV) Defectors will get a relatively
low payoff when they compete with another defect, which means when pedestrians defect with each other, jams appear,
and it is hard to move.
Based on the consideration of the Prisoner’s Dilemma game, we convert the payoff matrix to a probability matrix, which
represents the probability that each conflicted pedestrian moves.
Player Opponent
C D
C 1/2 0
D 1 1/2p
When conflict occurs, there are three possible cases. (I) If both are cooperators, each of them can move to the target site
with probability 1/2. (II) If one is a cooperator and the other is a defector, the defector will have the chance to move. (III) If
both are defectors, each of them can move to the target with probability 1/2p(1 ≤ p ≤ 2.5). Here, note that a larger value
of p represents a lower probability that the defectors can move to the target. They may all fail to move because of the jams.
In this sense, p is a punishment to defectors.
In our study, each pedestrian may compete with his neighbors in the Moore neighborhood. Then, the number of players
in a conflict may be two to eight, which means the two-player game rules can be extended to an n-player game.
Player Opponent
(n − 1)C, 0D (m−1)C, (n−m)D
C 1/n 0
D 1 1/(n − m)p
When conflict occurs in an n-player game, there are two kinds of cases. (I) If all are cooperators, each of them can move
to the target site with probability 1/n. (II) If there are m cooperators and n − m defectors, the cooperators will stay, and
each of the defectors can move to the target with probability 1/(n−m)p. Here, note that in case (II), each defector may win
with probability 1/(n − m)p. Thus, the probability of having a winner is 1/(n − m)p−1. They may all fail to move because
of the jams, and more defectors will make the jams more serious. In our study, the effect of punishment on the evacuation
dynamics is considered. Thus, we consider 1 ≤ p ≤ 2.5.
Here, we propose to compute a value called the Game Group Payoff (GP), which is the sum of the payoffs (probabilities)
of the players in a game group. In a game, the GP ranges from 0 to 1. This also represents the probability for a game group
to move. More defectors in a game, will cause the GP to be smaller. In other words, the GP reflects the degree of fierceness
460 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 3. Snapshot of room evacuation with population parameters L = W = 50, ρ = 0.4, D_W = 2, ks = 0, kw = 0, and Rs0 = 0.5.
in a game. Expanding GP to the whole evacuation process, by counting the mean value of GP in an evacuation, allows us to
infer the degree of fierceness of an evacuation.
Once the strategy selection and conflicts have been resolved, the winner of the game will move to his target site. If any
pedestrians arrive at the exit, the system will remove them.
4. Simulation and analysis
The pedestrian dynamics is studied by conducting experiments for the following cases.
(I) To study the evacuation effect of the ratio of selfish pedestrians, experiments are implemented to determine how a
heterogeneous population with selfish and selfless pedestrians affects the evacuation efficiency.
(II) To analyze the evacuation effects of human emotions and behaviors, a group of simulations are devised to study how
the sympathy factor (ks) and vying factor (kw) affect the evacuation efficiency.
(III) To study the evacuation effect of the exit door width, we design a group of experiments to determine how the building
design factors such as the door width affect the evacuation efficiency.
In this study, the evacuation time equals the number of simulation steps when all the pedestrians completely escape
from the room.
To provide trustworthy results for the following figures, the tests were executed 100 times, and the mean values are
displayed. The half-width of each confidence interval was less than 5% of the mean respective value when the confidence
level was 0.95.
4.1. Evacuation effect of selfish pedestrian ratio
In this section, we design experiments for a heterogeneous population with different social behaviors, i.e., the selfish and
selfless pedestrians. Selfish pedestrians are concerned with the best strategy for obtaining the largest benefits when gaming
with others. They may follow the law of the jungle and tend to defect. On the other hand, the selfless pedestrians choose to
cooperate when they conflict with another pedestrian.
In this case, we design a system with a fixed door width and fixed pedestrian density to study some additional relevant
parameters affecting evacuation, such as the initial selfish ratio (Rs0) and average Game Group Payoff (GP). A snapshot of
the pedestrians in an evacuation simulation is shown in Fig. 3.
Fig. 4 shows the total evacuation time as a function of the initial selfish ratio (Rs0) with fixed parameters, where ρ is 0.6,
ks is 0, and kw is 0. We can observe an exponential growth in the total evacuation time with the initial selfish pedestrian
ratio. This increase in the time is due to the fact that a larger value of Rs0 will result in a larger number of defect pedestrians,
resulting in a lower evacuation efficiency.
X. Song et al. / Physica A 447 (2016) 455–466 461
Fig. 4. Evacuation time against ratio of selfish pedestrians (Rs0).
Fig. 5. Evolution of GP with change in selfish ratio (Rs0).
In an evacuation process the selfish always show their advantage on escaping just like the laws of jungle. However,
when the ratio of the selfish increases, the evacuation efficiency always decreases exponentially. To study the deeper factors
affecting the evacuation efficiency, we determine the statistics of the average Group Game Payoff (GP), which represents
the conflict degree of the game (a smaller GP means greater conflict and vice versa) in the evacuation process, as shown in
Fig. 5.
Fig. 5 shows the evolution of GP with a change in the initial selfish ratio (Rs0). It shows a decrease when Rs0 increases,
which means more selfish pedestrians result in more fierce competitions. This shows that increasing Rs0 decreases the
evacuation efficiency, due to more gaming conflicts.
4.2. Evacuation effect of gaming punishment value
In this section, we take the gaming punishment value into consideration. As depicted in Section 3.3, each defector may
win with probability 1/(n − m)p. Thus, the probability of having a winner is 1/(n − m)p−1. If p is greater than 1, all of
the pedestrians may fail to move at one time because of the friction, and more defectors lead to worse conditions. In this
section, we try to investigate how the punishment p affects the evacuation efficiency. Here, experiments are respectively
implemented for the all selfishness case (Rs = 1.0) and all selflessness case (Rs = 0).
Fig. 6 shows the total evacuation time against the initial pedestrian density and punishment value, with the parameters
D_W = 2, ks = 0, and kw = 0. In Fig. 6a, all the pedestrians are selfish (Rs = 1.0).Wecan observe a linear growth in the total
evacuation time with the punishment. This increase in the time occurs because as the value of p increases, more pedestrians
(in the same conflict group) fail to move to their target. On the other hand, we consider the scene when all the pedestrians
are selfless (Rs = 0). In Fig. 6b, we find that no matter how we change the punishment value, the evacuation efficiency stays
the same. This is because when kw equals zero, the selfless pedestrians all maintain their cooperation strategy. Thus, there
is no punishment in the conflict.
462 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 6a. Total evacuation time against different punishment values, with all selfish pedestrians.
Fig. 6b. Total evacuation time against different punishment values, with all selfless pedestrians.
4.3. Evacuation effect of human emotions
In this section, we attempt to analyze how human behaviors and emotions affect the evacuation efficiency. Here, the
emotions mainly refer to sympathy and vying.
For the sympathy, we design a case where the ratio of selfish pedestrians is fixed at one. In this case, all the pedestrians
have high physical strength and change their defecting strategy based on their sympathy factor (ks). A high sympathy value
means the selfish pedestrians are more likely to cooperate, and a low sympathy value means they tend to defect.
Fig. 7 shows the results for the evacuation time with different sympathy factors (ks). We can observe that a larger real
time cooperation ratio (Rc ) often leads to a shorter evacuation time because of fewer conflicts.
In Fig. 7a, we see that the evacuation time exponentially decreases when ks increases. In addition, when ks is zero, all
the selfish pedestrians show no sympathy for others and choose the defect strategy. This greatly lowers the evacuation
efficiency. When ks reaches a value of eight, all the selfish pedestrians tend to cooperate with others, which makes the
evacuation time close to the minimum.
Fig. 7b shows the evolution of the cooperation ratio for different ks. As discussed in Sections 3.2 and 3.3, we adopt a
strategy evolution rule, in which a pedestrian’s game strategy may vary throughout the whole evacuation process. In this
figure, we can observe that the cooperation ratio oscillates all the time because the pedestrians change their game strategies
at each time step. When ks is low, the pedestrians tend to defect, and when ks is high, the pedestrians tend to cooperate,
which results in a high cooperation ratio for a high ks and a low cooperation ratio for a low ks. This shows that a virtue of
the pedestrians, such as sympathy, can cause them to help each other and improve the evacuation efficiency.
For the vying behavior, we consider the case where the pedestrians are all selfless. In this case, all the pedestrians have
a low physical strength and change their cooperation strategies based on their vying factor (kw). A high vying value means
that the selfless pedestrians tend to defect, whereas with a low vying value, they tend to keep their normal strategy and
cooperate. We mainly study how vying affects the evacuation efficiency in this case. In order to display the simulation
dynamics, we design the experiment to consider parameters that include the vying factor (kw) and real-time cooperation
ratio (Rc ).
Fig. 8 mainly shows the results of the total evacuation time with different vying factors (kw) and real time cooperation
ratios (Rc ). In Fig. 8a, we see that the evacuation time exponentially increases with kw. Note that when kw is zero, the
X. Song et al. / Physica A 447 (2016) 455–466 463
Fig. 7a. Result of total evacuation time against different sympathy factors (ks).
Fig. 7b. Real time cooperation ratio (Rc) changes with different ks.
Fig. 8a. Total evacuation time with different vying factors (kw).
pedestrians all choose the strategy of cooperation, and in this situation, they have more success in evacuating. When
kw reaches a value of eight, the selfless cannot tolerate the defectors, so they tend to defect, which leads to the longest
evacuation time.
Fig. 8b shows the evolution of the cooperation ratio for different kw. Similar to Fig. 7b, we see that based on the strategy
evolution rule, the cooperation ratio oscillates at a certain value because of the pedestrians changing their game strategies
at every time step. When kw is low, the pedestrians tend to cooperate, and when kw is high, the pedestrians tend to defect,
which results in a high cooperation ratio for a low kw and a low cooperation ratio for a high kw.
464 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 8b. Real time cooperation ratio (Rc) with different kw.
4.4. Evacuation effect of door width
To compute the exit width’s effect on the evacuation efficiency, in this subsection we mainly consider cases in which
the ratio of selfish pedestrians is fixed at one. We try to study how building design factors such as the door width affect the
evacuation efficiency.
Fig. 8 shows the results for the evacuation time in a square room with different door widths (D_W) and initial pedestrian
densities (ρ). In Fig. 8a, we can observe that the evacuation time decreases with an increase in D_W.
Three conclusions can be drawn from Fig. 9.
First, the door width has a great impact on the evacuation efficiency when it is small. For instance, the evacuation time
becomes much shorter when D_W increases from 1 cell to 2 cells. Fig. 9b gives the proof that the GP value rises sharply
against the door width when it is small.
Second, when the door width is larger than 6 cells, it does not have an obvious influence on the evacuation time. This
conclusion can be used as a reference for door width design. Fig. 9b gives proof that the GP value reaches a relatively stable
value when the door width exceeds six.
Third, there is always a jump in T when D_W increases from an odd number to an even number, and this phenomenon is
clearer with a greater density. This means that an even number of door width cells may have a greater effect on decreasing
the evacuation time than an odd number of door width cells. Fig. 9b gives proof that the GP value has an obvious rise when
the door width increases from an odd number to an even number.
Fourth, with the same door width, the evacuation time linearly increases as the pedestrian density increases. However,
note that the slope of the different door width line is not the same. It decreases when the door width increases. This is
because a smaller width causes more gaming conflicts and results in a longer evacuation time.
5. Conclusion
Previous studies primarily considered the ratio of game strategies (cooperate and defect) as the main study parameter.
However, most of them neglected the fact that the game strategy is determined by a human’s selfish or selfless behavior,
and thus involves emotions such as sympathy and vying. In this paper, we assumed that the human sense of self leads to a
defecting or cooperation gaming strategy based on his behavior choice and emotions. Thus, human behavior was considered
with game theory to study a more realistic microscopic pedestrian crowd evacuation model.
Several conclusions are drawn as follows.
(1) In an evacuation process, the selfish pedestrians always have an advantage in escaping because the law of the jungle
takes effect. However,wefind that the total evacuation time increases exponentially when the ratio of selfish pedestrians
increases. This means that selfish human behavior normally has a counter effect on the evacuation efficiency, and the
selfless can benefit from mutual cooperation and leave the room more rapidly than defectors.
(2) Human emotions such as sympathy and vying affect the evacuation efficiency. A pedestrian’s sympathy promotes his
cooperation with others, which is positive for the evacuation efficiency. The evacuation efficiency decreases as the vying
factor rises. With a high vying factor, the total evacuation efficiency is seriously harmed.
X. Song et al. / Physica A 447 (2016) 455–466 465
Fig. 9a. Evacuation time against door width (D_W) for different initial pedestrian densities.
(3) As a building design factor, the door width greatly affects the evacuation efficiency.Wereached the important conclusion
that the door width has little influence on the total evacuation time after it reaches a size greater than six. Moreover,
there is always a decrease in the total evacuation time when the number of door cells increases from an odd number to
an even number.
Acknowledgments
This research was supported by grant 61473013 from National Natural Science Foundation of China. Authors thank
reviewers for their comments.
466 X. Song et al. / Physica A 447 (2016) 455–466
Fig. 9b. Average Group Payoff (GP) against door width (D_W) for different initial pedestrian densities.
References
[1] Jeongin Koo, Yong Seog Kim, Byung-In Kim, Keith M. Christensen, A comparative study of evacuation strategies for people with disabilities in high-rise
building evacuation, Expert Syst. Appl. 40 (2013) 408–417.
[2] Lu Tan, Mingyuan Hu, Hui Lin, Agent-based simulation of building evacuation: Combining human behavior with predictable spatial accessibility in a
fire emergency, Inform. Sci. 295 (2015) 53–66.
[3] Kashif Zia, Katayoun Farrahi, Andreas Riener, Alois Ferscha, An agent-based parallel geo-simulation of urban mobility during city-scale evacuation,
Simulation: Trans. Soc. Model. Simul. Int. 89 (10) (2013) 1184–1214.
[4] Marco D’Orazio, Luca Spalazzi, Enrico Quagliarini, Gabriele Bernardini, Agent-based model for earthquake pedestrians’ evacuation in urban outdoor
scenarios: Behavioral patterns definition and evacuation paths choice, Saf. Sci. 62 (2014) 450–465.
[5] João Ribeiro, João Emílio Almeida, Rosaldo J.F. Rossetti, António Coelho, António Leça Coelho, Using serious games to train evacuation behavior, Inf.
Syst. Technol. (CISTI) 7 (2012) 1–6.
[6] Qing-Yi Hao, Mao-Bin Hu, Xue-Qi Cheng, Wei-Guo Song, Rui Jiang, Qing-Song Wu, Pedestrian flow in a lattice gas model with parallel update, Phys.
Rev. E 82 (2) (2010) 2365–2376.
[7] Claudio Castellano, Santo Fortunato, Vittorio Loreto, Statistical physics of social dynamics, Rev. Modern Phys. 81 (2) (2009) 591–646.
[8] Vi Ha, George Lykotrafitis, Agent-based modeling of a multi-room multi-floor building emergency evacuation, Physica A 391 (8) (2012) 2740–2751.
[9] Rita F. Fahy, Guylène Proulx, Lata Aiman, Panic or not in fire: Clarifying the misconception, Fire Mater. 36 (2012) 328–338.
[10] Christian Rogsch, Michael Schreckenberg, Eric Tribble, Was it panic? An overview about mass-emergencies and their origins all over the world for
recent years, Pedestrian Evacuation Dyn. (2008) 743–755.
[11] Katsuhiro Nishinari, Ansgar Kirchner, Alireza Namazi, Andreas Schadschneider, Extended floor field CA model for evacuation dynamics, IEEE Trans.
Inf. Syst. 87 (3) (2004) 726–732.
[12] C. Burstedde, K. Klauck, A. Schadschneider, J. Zittartz, Simulation of pedestrian dynamics using a two-dimensional cellular automaton, Physica A 295
(2001) 507–525.
[13] Ekaterina Kirik, Tat’yana Yurgel’yan, Dmitriy Krouglov, An intelligent floor field cellular automata model for pedestrian dynamics. Eprint Arxiv, 2009.
[14] Ansgar Kirchner, Katsuhiro Nishinari, Andreas Schadschneider, Friction effects and clogging in a cellular automaton model for pedestrian dynamics,
Phys. Rev. E 67 (5) (2003) 369–384.
[15] Xie Ji-jian, Xue Yu, Study on the dynamics of indoor pedestrian evacuation based on the game, in: International Conference on Natural Computation,
2011, Vol.4, pp. 2283–2287.
[16] Qing-Yi Hao, Rui Jiang, Mao-Bin Hu, Bin Jia, Qing-Song Wu, Pedestrian flow dynamics in a lattice gas model coupled with an evolutionary game, Phys.
Rev. E 84 (3) (2011) 247–268.
[17] Xiaoping Zheng, Yuan Cheng, Conflict game in evacuation process: A study combining Cellular Automata model, Phys. A 390 (6) (2011) 1042–1050.
[18] S. Bouzat, M.N. Kuperman, Game theory in models of pedestrian room evacuation, Phys. Rev. E 89 (3) (2014) 256–266.
[19] Dong-Mei Shi, Bing-Hong Wang, Evacuation of pedestrians from a single room by using snowdrift game theories, Phys. Rev. E 87 (2) (2013) 022802.
[20] T. Miyoshi, H. Nakayasu, Y. Ueno, et al., An emergency aircraft evacuation simulation considering passenger emotions, Comput. Ind. Eng. 62 (3) (2012)
746–754.
[21] Andreas Schadschneider, Conflicts and friction in pedestrian dynamics, Lect. Notes Comp. Sc. 2008, Vol. 5191, pp. 559–562.
[22] Ansgar Kirchner, Hubert Klupfel, Katsuhiro Nishinari, et al., Simulation of competitive egress behavior: Comparison with aircraft evacuation data,
Physica A 324 (2003) 689–698.
[23] Marcelo Rodrigo de Souza Pita, Fernando Buarque de Lima Neto, Simulations of Egoistic and Altruistic Behaviors Using the Vidya Multiagent System
Platform, GECCO’07, 2007, pp. 2927–2932.
[24] Helen C. Muir, David M. Bottomley, Claire Marrison, Effects of motivation and cabin configuration on emergency aircraft evacuation behavior and
rates of egress, Int. J. Aviat. Psychol. 6 (1996) 57–77.
[25] N.H. Packard, S. Wolfram, Two-dimensional cellular automata, J. Stat. Phys. 38 (5–6) (1985) 901–946.
[26] Gabriel Wurzer, Kerstin Kowarik, Hans Reschreiter, Agent-Based Modeling and Simulation in Archaeology, Springer International Publishing,
Switzerland, 2015.
[27] Jun Tanimoto, Aya Hagishima, Yasukaka Tanaka, Study of bottleneck effect at an emergency evacuation exit using cellular automata model, mean field
approximation analysis, and game theory, Physica A 389 (24) (2010) 5611–5618.
[28] Ansgar Kirchner, Andreas Schadschneider, Simulation of evacuation processes using a bionics-inspired cellular automaton model for pedestrian
dynamics, Physica A 1 (2002) 260–276.
[29] X. Song, S. Zhang, Lidong Qian, Opinion dynamics in networked command and control organizations, Physica A 392 (2013) 5206–5217.
[30] X. Song, W. Shi, G. Tan, Y. Ma, Multi-level tolerance opinion dynamics in military command and control networks, Physica A 437 (11) (2015) 322–332.
[31] X. Song, W. Shi, Y. Ma, C. Yang, Impact of informal networks on opinion dynamics in hierarchically formal organization, Physica A 436 (10) (2015)
>>>>>>> 2722771823fc534d44839a79e520392765d8cbd3
916–924.