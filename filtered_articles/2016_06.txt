<<<<<<< head physica a 447 (2016) 455–466 contents lists available at sciencedirect physica a journal homepage: www.elsevier.com/locate/physa selfishness- and selflessness-based models of pedestrian room evacuation xiao songa,∗, liang maa, yaofei maa,∗, chen yangb, hang ji a a school of automation science, beihang university (buaa), beijing 100191, china b department of electrical and computer engineering, university of western ontario, london, on, canada h i g h l i g h t s • selfishness- and selflessness-based model of pedestrian room evacuation is proposed. • the selfish nature of human has counter effect of the total evacuation time. • pedestrian’ sympathy shows positive effect on evacuation efficiency. • door width has little influence when it is greater than 6 (room size over 50 × 50). a r t i c l e i n f o article history: received 21 august 2015 received in revised form 20 november 2015 available online 29 december 2015 keywords: evacuation game theory pedestrian dynamics cellular automata jungle law a b s t r a c t some pedestrian evacuation studies have employed game strategy to deal with moving conflicts involving two or three pedestrians. however, most of these have simply presented game strategies for pedestrians without analyzing the reasons why they choose to defect or cooperate. we believe that selfish and selfless behaviors are two main factors that should be considered in evacuation. in addition to these behaviors, human emotions such as sympathy and behaviors such as vying were also taken into account to investigate their impacts on pedestrians’ strategies. moreover, an essential objective factor, the building design factor of door width was tested and analyzed. experimental results showed that the sense of self leads to more defectors and a longer evacuation time. however, sympathy does some good, leading to more cooperators and a shorter evacuation time. moreover, the exit door width is an essential factor of the evacuation efficiency. when the width was less than 6 cells in a rectangular room with a size greater than 50 × 50, the evacuation time greatly decreased when the width increased. however, this effect was less obvious when the width increased. © 2015 elsevier b.v. all rights reserved. 1. introduction pedestrian congestion is an important phenomenon at the exits of buildings because it may develop into serious trample accidents. therefore, pedestrian dynamics has attracted much attention in the last decade, and many studies have been performed. from the perspective of model granularity, these works can be divided into two classes: macroscopic models based on a complex topology and microscopic models based on a simple topology. the former evacuation models can be applied to situations such as tall buildings [1,2], cities [3,4], airports, and subway stations, with the goals of evacuation guidance, finding exits [1,2], or evacuation training [5] from a macroscopic perspective. however, most of these kinds ∗ corresponding authors. e-mail addresses: songxiao@buaa.edu.cn (x. song), mayaofei@163.com (y. ma). http://dx.doi.org/10.1016/j.physa.2015.12.041 0378-4371/© 2015 elsevier b.v. all rights reserved. 456 x. song et al. / physica a 447 (2016) 455–466 of evacuation scenarios ignore the details of pedestrian crowd behavior near doors or channels. in contrast, the latter evacuation models can be used to analyze the bottleneck effect at emergency exits or channels from a microscopic perspective, showing some essential pedestrian dynamics such as jamming and clogging, lane formation, and the ‘‘faster-isslower’’ effect [6–10], which reveal the essential reasons for pedestrian crowd behaviors. when comparing these two typical cases, we find that a macroscopic model leans toward time-aware applications, and a microscopic model is more suitable for studying the detailed pedestrian evacuation dynamics. normally, microscopic pedestrian models can be classified into two categories: social force models and cellular automata (ca) models [7]. while a social force model is continuous in space and time, ca models are discrete and computationally efficient. based on its simplicity and high efficiency, some recent studies have used a floor field model to find the influences of doors and barriers on pedestrian movement [11]. however, their designs mainly addressed the issue of finding a target site, neglecting the complicated interactions among pedestrians such as conflicts (two or more agents that want to advance to the same position at the same time). recently, some researchers carried out studies to solve conflict by introducing probabilities, friction effects in floor field models [6,12–14], and game theory. however, these studies only considered that different pedestrians have different probabilities of moving to the conflicted target without analyzing their selfish and selfless behaviors, or their sympathy and vying behavior. this paper is organized as follows. related works on evacuation-related theories and practices are presented in section 2. a core evacuation model is described in section 3. it contains an environment model, target site finding, game strategy, and conflict solving rules. section 4 discusses and analyzes some simulation results. finally, the conclusions are summarized in section 5. 2. related works in the last decade, numerous evacuation studies have been carried out to study the microscopic pedestrian dynamics. some works used game theory to solve the conflicts of pedestrian movements. for instance, xie and xue [15] combined ca with game theory in their study. however, the human behavior effects were not mentioned. hao et al. [16] performed some further work. in their study, the spatial distribution of pedestrians was investigated, which was found to be independent of the initial cooperation ratio when the width of a door was large enough. however, they only utilized a gaming strategy for pedestrians without addressing why they choose to defect or cooperate when gaming with other agents (pedestrians). meanwhile, some researchers proposed that emotions such as rationality and tension were the main reasons for pedestrian interactions and jams. among these, zheng and cheng [17] considered the effect of rationality, which may affect pedestrians’ evacuation strategy. they believed that individual hyper-rationality among evacuees diminished their evacuation efficiency, and the imitation effect enhanced cooperation among evacuees, yet reduced their evacuation efficiency. however, they only considered rationality in target site finding, neglecting the problem of conflict resolution. in another study, bouzat and kuperman [18] found that under certain conditions, cooperators can gain an advantage from mutual cooperation and leave the room more rapidly than defectors. they described the internal states of individuals, which are independent of what is happening outside. however, the psychological features they mentioned were only implicitly considered by the game theory, without being as concrete as pedestrian behaviors such as selfness and selflessness. moreover, shi and wang [19] indirectly introduced a cost-to-benefit ratio to a snowdrift model to simulate the fear index of pedestrians, along with pc (the probability to change the present strategy) to model a pedestrian’s strategy choice. miyoshi [20] suggests that an aircraft accident, the garuda indonesia airways accident, may have been caused by panicked agents generating time delays in the evacuation flow toward the exits. to some extent, this research shows that more pedestrians may defect under emergency conditions, showing people’s selfish nature. in schadschneider [21], the ‘‘friction’’ concept was proposed to model an important aspect of pedestrian dynamics, i.e., ‘‘conflicts in which none of the involved agents is allowed to move’’. kirchner [22] reported results obtained using cellular automata for pedestrian dynamics with friction. rodrigo [23] stated that, ‘‘those who defend psychological egoism say that healthy humans always behave in a self-interested way, even when the actions seem to be altruistic ones. thus, psychological egoism argues that altruism is merely apparent and that all behaviors are motivated by personal gain’’. these studies showed that people often have a selfish nature and thus may demonstrate selfish behavior in emergency evacuations. however, the psychological features of strategy changing were less scrutinized in these works, such as selfness, sympathy, and vying behavior. in addition to the above studies that considered the application of gaming theory to pedestrian dynamics, some other researchers studied the effect of the door width on the evacuation efficiency. for example, muir [24] presented the effects of the cabin configuration on emergency aircraft evacuation behavior and the rates of egress. kirchner [22] reported results obtained using cellular automata for pedestrian dynamics with friction. although these works investigated the effects of the door width empirically, the gaming effect was neglected, and psychologically selfish and unselfish effects were not considered. in this paper, we will try to include these factors in a further investigation of evacuation pedestrian flow. 3. models the evacuation scene is set in a rectangular room with a single door. based on cellular automata and a lattice gas model, the room has a size of w × l, and every cell can only be occupied by one pedestrian. the door width is d_w. we define a coordinate system for the room, with x coordinates ranging from 0 to w − 1, and y coordinates ranging from 0 to l − 1. at x. song et al. / physica a 447 (2016) 455–466 457 fig. 1. moving directions of pedestrians. the beginning of the simulation, we initialize the number of pedestrians n ≥ 0 (the density of pedestrians ρ = n/(w ∗ l), 0 ≤ ρ ≤ 1), and the positions of the pedestrians are randomly distributed. a time-stepped simulation is adopted, where pedestrians can move to one of their empty neighbor sites using target choosing rules at each simulation step. when more than one pedestrian attempts to move to the same site, a conflict occurs. here, we assume that all the pedestrians show either selfish or selfless behaviors, which are the key factor for them to defect or cooperate. meanwhile, the sympathy emotion of the selfish and the vying behavior of the selfless are also considered to affect the strategy evolution rules. in the simulation process, each simulation step contains three main stages: • first, with the moore neighborhood model and floor field model, every pedestrian chooses a neighboring target site to jump to. • second, following the human selfishness or selflessness choices combined with the sympathy emotion and vying behavior, pedestrians choose their strategy to defect or cooperate. • third, the payoffs are computed to solve the conflicts. each defector or cooperator moves to his desired position according to the corresponding payoff probability. finally, the simulation finishes when all the agents have abandoned the room. 3.1. stage one: neighboring target site selection rules previous studies involving a spatial game in a square lattice mostly used either a model of a moore neighborhood or von neumann neighborhood. the former has eight neighbors and the latter has four [25]. in realistic situations, an agent is more likely to have eight immediate neighbors rather than four because agents may have stochastic characteristics and some probability to move to the detour sites [26]. therefore, we use the moore neighbor model as the site choice of pedestrians. each pedestrian may move to its empty moore neighbor sites as shown by pedestrian (a) in fig. 1. some studies with a moore model (the model of a moore neighborhood) considered unidirectional movements for pedestrian flow [16], which means every pedestrian has five alternative sites, as shown by pedestrian (b) in fig. 1. in a comparison of multi-directional and unidirectional movements, we carried out two groups of experiments and found that the crowd of the former forms an arch shape [27] near the door, while the latter rule cannot form this more realistic shape, as shown in fig. 2. this result again proves that realistic pedestrian behavior is to some extent non-deterministic, as wurzer et al. [26] proposed. therefore, we employ the multi-directional rule as the pedestrian moving method. with the multi-directional method, a pedestrian often chooses the most desirable site (the site with the greatest s value) based on the static floor field model [28]. for every site in the room, its distance from the exit is inversely proportional to its s value, with a shorter distance having a greater s value. at each episode, each pedestrian chooses a target site with the probability p(i,j), p(i,j) = exp(s(i,j) ∗ kn)  (i,j)∈ω exp(s(i,j) ∗ kn) (1) where kn represents the knowledge of the exit’s location. in this paper, we give it a constant value of five. (i, j) is the index of one of the pedestrian’s empty moore neighbor sites. then, s(i,j) is the value of the static floor field, calculated using 458 x. song et al. / physica a 447 (2016) 455–466 fig. 2. comparison of two movement rules for pedestrian dynamics. the left shows unidirectional movement rules, and the right shows eight alternative movement rules. eq. (2). a larger s(i,j) means the site is closer to the exit door. ω represents the collection of indices of all the pedestrian’s empty moore neighbor sites. with this equation, pedestrians can move to the best site with higher probability. the value of the static floor field is calculated using the following equation. s(i,j) = max (i′,j′)∈ω′  (xe − x(i′,j′))2 + (ye − y(i′,j′))2 −  (xe − x(i,j))2 + (ye − y(i,j))2 (2) where x represents the x coordinate, and y represents the y coordinate. (i′, j′) represents the index of the site, and ω′ represents the collection of all the sites in the square lattices. then, max(i′,j′)∈ω′  (xe − x(i′,j′))2 + (ye − y(i′,j′))2 represents the largest distance of any site to the exit, and  (xe − x(i,j))2 + (ye − y(i,j))2 represents the distance between site (i, j) and the exit. 3.2. stage two: gaming strategies of pedestrians each agent chooses his game strategy at each time step, i.e., to cooperate or defect. in this stage, we will focus on why a pedestrian chooses to defect or cooperate and how he changes his choice. in previous studies, a pedestrian’s strategy was often invariable or changed based on a fixed rule without sufficient explanations of why pedestrians used these strategies. for example, hao [16] gave a schematic illustration of how pedestrians changed their strategy, but no reasons were illustrated. our proposition is to model the human behaviors from human nature, i.e., selfish and selfless. a selfish pedestrian is mostly concerned with what kind of strategy they should use to obtain the largest benefits when gaming with others [20,23], and the ‘‘law of the jungle’’ is most likely to be taken as their rule, i.e., each person strives for himself. comparably, the selfless pedestrian may be motivated by the acquisition of a good reputation, expectation of reciprocity, or even religious beliefs (e.g., reward in the next life, going to heaven after death, etc.). thus, in our study, we mainly divide the pedestrians into two classes, the selfish and selfless. when pedestrians experience conflicts, the selfish ones tend to defect, and the selfless tend to adopt the strategy of cooperation. sometimes the pedestrians showing selfish behavior can also show sympathy for someone else. moreover, agent-based models may also be stochastic, where randomness is introduced throughout. this may even include random changes to the rules themselves [26,29–31]. we also consider the vying behavior of the selfless, which means the selfless is unwilling to accept the defects of others, leading them to also defect. at each simulation episode, the strategy of the pedestrian may differ from the last episode. the pedestrians adopt the strategy of defecting with the probability pd and the strategy of cooperation with the probability pc , for ‘‘the selfish’’: pd = exp(−ks) pc = 1 − exp(−ks). (3) here, as previously mentioned, we consider the sympathy emotion of the selfish pedestrians, which may change the normal strategy of the selfish to one of cooperation. we introduce ks to denote the sympathy factor (0 ≤ ks). a high value x. song et al. / physica a 447 (2016) 455–466 459 of ks means the selfish are more sympathetic to others, leading them to cooperate. for ‘‘the selfless’’: pd = 1 − exp(−kw) pc = exp(−kw). (4) here, the vying of the selfless is also considered, which may change the normal strategy of the selfless to defect. we introduce kw to denote this vying factor (0 ≤ kw). a high kw means the selfless are more aggressive to defect. 3.3. stage three: conflict resolution rules in this stage, the gaming payoffs are computed to determine the probabilities of pedestrians moving to their selected sites. based on a consideration of complicated interaction, a typical game-theory model, the prisoner’s dilemma, is adopted for the resolution rules. in a prisoner’s dilemma game, there are two different strategies, which we define as cooperate (c) and defect (d). first, we take a two-player game model as an example to explain the conflict resolution rules. for the two-player game, the payoff matrix is as follows: player opponent c d c r s d t p note the first row shows the payoffs for c agents, while the second shows those for d agents. r is the payoff of the two cooperators. p is the payoff of the two defectors. when one player cooperates and the other defects, the payoffs of the cooperator and defector are (s, t ). the payoffs fulfill the condition: t > r > p > s, which implies four conclusions. (i) defectors will get the highest payoff when competing with cooperators. (ii) cooperators will get the lowest payoff when competing with defectors. (iii) cooperators will get a relatively high payoff when they meet another cooperator, which implies that joining hands will allow pedestrians to escape from the room more rapidly. (iv) defectors will get a relatively low payoff when they compete with another defect, which means when pedestrians defect with each other, jams appear, and it is hard to move. based on the consideration of the prisoner’s dilemma game, we convert the payoff matrix to a probability matrix, which represents the probability that each conflicted pedestrian moves. player opponent c d c 1/2 0 d 1 1/2p when conflict occurs, there are three possible cases. (i) if both are cooperators, each of them can move to the target site with probability 1/2. (ii) if one is a cooperator and the other is a defector, the defector will have the chance to move. (iii) if both are defectors, each of them can move to the target with probability 1/2p(1 ≤ p ≤ 2.5). here, note that a larger value of p represents a lower probability that the defectors can move to the target. they may all fail to move because of the jams. in this sense, p is a punishment to defectors. in our study, each pedestrian may compete with his neighbors in the moore neighborhood. then, the number of players in a conflict may be two to eight, which means the two-player game rules can be extended to an n-player game. player opponent (n − 1)c, 0d (m−1)c, (n−m)d c 1/n 0 d 1 1/(n − m)p when conflict occurs in an n-player game, there are two kinds of cases. (i) if all are cooperators, each of them can move to the target site with probability 1/n. (ii) if there are m cooperators and n − m defectors, the cooperators will stay, and each of the defectors can move to the target with probability 1/(n−m)p. here, note that in case (ii), each defector may win with probability 1/(n − m)p. thus, the probability of having a winner is 1/(n − m)p−1. they may all fail to move because of the jams, and more defectors will make the jams more serious. in our study, the effect of punishment on the evacuation dynamics is considered. thus, we consider 1 ≤ p ≤ 2.5. here, we propose to compute a value called the game group payoff (gp), which is the sum of the payoffs (probabilities) of the players in a game group. in a game, the gp ranges from 0 to 1. this also represents the probability for a game group to move. more defectors in a game, will cause the gp to be smaller. in other words, the gp reflects the degree of fierceness 460 x. song et al. / physica a 447 (2016) 455–466 fig. 3. snapshot of room evacuation with population parameters l = w = 50, ρ = 0.4, d_w = 2, ks = 0, kw = 0, and rs0 = 0.5. in a game. expanding gp to the whole evacuation process, by counting the mean value of gp in an evacuation, allows us to infer the degree of fierceness of an evacuation. once the strategy selection and conflicts have been resolved, the winner of the game will move to his target site. if any pedestrians arrive at the exit, the system will remove them. 4. simulation and analysis the pedestrian dynamics is studied by conducting experiments for the following cases. (i) to study the evacuation effect of the ratio of selfish pedestrians, experiments are implemented to determine how a heterogeneous population with selfish and selfless pedestrians affects the evacuation efficiency. (ii) to analyze the evacuation effects of human emotions and behaviors, a group of simulations are devised to study how the sympathy factor (ks) and vying factor (kw) affect the evacuation efficiency. (iii) to study the evacuation effect of the exit door width, we design a group of experiments to determine how the building design factors such as the door width affect the evacuation efficiency. in this study, the evacuation time equals the number of simulation steps when all the pedestrians completely escape from the room. to provide trustworthy results for the following figures, the tests were executed 100 times, and the mean values are displayed. the half-width of each confidence interval was less than 5% of the mean respective value when the confidence level was 0.95. 4.1. evacuation effect of selfish pedestrian ratio in this section, we design experiments for a heterogeneous population with different social behaviors, i.e., the selfish and selfless pedestrians. selfish pedestrians are concerned with the best strategy for obtaining the largest benefits when gaming with others. they may follow the law of the jungle and tend to defect. on the other hand, the selfless pedestrians choose to cooperate when they conflict with another pedestrian. in this case, we design a system with a fixed door width and fixed pedestrian density to study some additional relevant parameters affecting evacuation, such as the initial selfish ratio (rs0) and average game group payoff (gp). a snapshot of the pedestrians in an evacuation simulation is shown in fig. 3. fig. 4 shows the total evacuation time as a function of the initial selfish ratio (rs0) with fixed parameters, where ρ is 0.6, ks is 0, and kw is 0. we can observe an exponential growth in the total evacuation time with the initial selfish pedestrian ratio. this increase in the time is due to the fact that a larger value of rs0 will result in a larger number of defect pedestrians, resulting in a lower evacuation efficiency. x. song et al. / physica a 447 (2016) 455–466 461 fig. 4. evacuation time against ratio of selfish pedestrians (rs0). fig. 5. evolution of gp with change in selfish ratio (rs0). in an evacuation process the selfish always show their advantage on escaping just like the laws of jungle. however, when the ratio of the selfish increases, the evacuation efficiency always decreases exponentially. to study the deeper factors affecting the evacuation efficiency, we determine the statistics of the average group game payoff (gp), which represents the conflict degree of the game (a smaller gp means greater conflict and vice versa) in the evacuation process, as shown in fig. 5. fig. 5 shows the evolution of gp with a change in the initial selfish ratio (rs0). it shows a decrease when rs0 increases, which means more selfish pedestrians result in more fierce competitions. this shows that increasing rs0 decreases the evacuation efficiency, due to more gaming conflicts. 4.2. evacuation effect of gaming punishment value in this section, we take the gaming punishment value into consideration. as depicted in section 3.3, each defector may win with probability 1/(n − m)p. thus, the probability of having a winner is 1/(n − m)p−1. if p is greater than 1, all of the pedestrians may fail to move at one time because of the friction, and more defectors lead to worse conditions. in this section, we try to investigate how the punishment p affects the evacuation efficiency. here, experiments are respectively implemented for the all selfishness case (rs = 1.0) and all selflessness case (rs = 0). fig. 6 shows the total evacuation time against the initial pedestrian density and punishment value, with the parameters d_w = 2, ks = 0, and kw = 0. in fig. 6a, all the pedestrians are selfish (rs = 1.0).wecan observe a linear growth in the total evacuation time with the punishment. this increase in the time occurs because as the value of p increases, more pedestrians (in the same conflict group) fail to move to their target. on the other hand, we consider the scene when all the pedestrians are selfless (rs = 0). in fig. 6b, we find that no matter how we change the punishment value, the evacuation efficiency stays the same. this is because when kw equals zero, the selfless pedestrians all maintain their cooperation strategy. thus, there is no punishment in the conflict. 462 x. song et al. / physica a 447 (2016) 455–466 fig. 6a. total evacuation time against different punishment values, with all selfish pedestrians. fig. 6b. total evacuation time against different punishment values, with all selfless pedestrians. 4.3. evacuation effect of human emotions in this section, we attempt to analyze how human behaviors and emotions affect the evacuation efficiency. here, the emotions mainly refer to sympathy and vying. for the sympathy, we design a case where the ratio of selfish pedestrians is fixed at one. in this case, all the pedestrians have high physical strength and change their defecting strategy based on their sympathy factor (ks). a high sympathy value means the selfish pedestrians are more likely to cooperate, and a low sympathy value means they tend to defect. fig. 7 shows the results for the evacuation time with different sympathy factors (ks). we can observe that a larger real time cooperation ratio (rc ) often leads to a shorter evacuation time because of fewer conflicts. in fig. 7a, we see that the evacuation time exponentially decreases when ks increases. in addition, when ks is zero, all the selfish pedestrians show no sympathy for others and choose the defect strategy. this greatly lowers the evacuation efficiency. when ks reaches a value of eight, all the selfish pedestrians tend to cooperate with others, which makes the evacuation time close to the minimum. fig. 7b shows the evolution of the cooperation ratio for different ks. as discussed in sections 3.2 and 3.3, we adopt a strategy evolution rule, in which a pedestrian’s game strategy may vary throughout the whole evacuation process. in this figure, we can observe that the cooperation ratio oscillates all the time because the pedestrians change their game strategies at each time step. when ks is low, the pedestrians tend to defect, and when ks is high, the pedestrians tend to cooperate, which results in a high cooperation ratio for a high ks and a low cooperation ratio for a low ks. this shows that a virtue of the pedestrians, such as sympathy, can cause them to help each other and improve the evacuation efficiency. for the vying behavior, we consider the case where the pedestrians are all selfless. in this case, all the pedestrians have a low physical strength and change their cooperation strategies based on their vying factor (kw). a high vying value means that the selfless pedestrians tend to defect, whereas with a low vying value, they tend to keep their normal strategy and cooperate. we mainly study how vying affects the evacuation efficiency in this case. in order to display the simulation dynamics, we design the experiment to consider parameters that include the vying factor (kw) and real-time cooperation ratio (rc ). fig. 8 mainly shows the results of the total evacuation time with different vying factors (kw) and real time cooperation ratios (rc ). in fig. 8a, we see that the evacuation time exponentially increases with kw. note that when kw is zero, the x. song et al. / physica a 447 (2016) 455–466 463 fig. 7a. result of total evacuation time against different sympathy factors (ks). fig. 7b. real time cooperation ratio (rc) changes with different ks. fig. 8a. total evacuation time with different vying factors (kw). pedestrians all choose the strategy of cooperation, and in this situation, they have more success in evacuating. when kw reaches a value of eight, the selfless cannot tolerate the defectors, so they tend to defect, which leads to the longest evacuation time. fig. 8b shows the evolution of the cooperation ratio for different kw. similar to fig. 7b, we see that based on the strategy evolution rule, the cooperation ratio oscillates at a certain value because of the pedestrians changing their game strategies at every time step. when kw is low, the pedestrians tend to cooperate, and when kw is high, the pedestrians tend to defect, which results in a high cooperation ratio for a low kw and a low cooperation ratio for a high kw. 464 x. song et al. / physica a 447 (2016) 455–466 fig. 8b. real time cooperation ratio (rc) with different kw. 4.4. evacuation effect of door width to compute the exit width’s effect on the evacuation efficiency, in this subsection we mainly consider cases in which the ratio of selfish pedestrians is fixed at one. we try to study how building design factors such as the door width affect the evacuation efficiency. fig. 8 shows the results for the evacuation time in a square room with different door widths (d_w) and initial pedestrian densities (ρ). in fig. 8a, we can observe that the evacuation time decreases with an increase in d_w. three conclusions can be drawn from fig. 9. first, the door width has a great impact on the evacuation efficiency when it is small. for instance, the evacuation time becomes much shorter when d_w increases from 1 cell to 2 cells. fig. 9b gives the proof that the gp value rises sharply against the door width when it is small. second, when the door width is larger than 6 cells, it does not have an obvious influence on the evacuation time. this conclusion can be used as a reference for door width design. fig. 9b gives proof that the gp value reaches a relatively stable value when the door width exceeds six. third, there is always a jump in t when d_w increases from an odd number to an even number, and this phenomenon is clearer with a greater density. this means that an even number of door width cells may have a greater effect on decreasing the evacuation time than an odd number of door width cells. fig. 9b gives proof that the gp value has an obvious rise when the door width increases from an odd number to an even number. fourth, with the same door width, the evacuation time linearly increases as the pedestrian density increases. however, note that the slope of the different door width line is not the same. it decreases when the door width increases. this is because a smaller width causes more gaming conflicts and results in a longer evacuation time. 5. conclusion previous studies primarily considered the ratio of game strategies (cooperate and defect) as the main study parameter. however, most of them neglected the fact that the game strategy is determined by a human’s selfish or selfless behavior, and thus involves emotions such as sympathy and vying. in this paper, we assumed that the human sense of self leads to a defecting or cooperation gaming strategy based on his behavior choice and emotions. thus, human behavior was considered with game theory to study a more realistic microscopic pedestrian crowd evacuation model. several conclusions are drawn as follows. (1) in an evacuation process, the selfish pedestrians always have an advantage in escaping because the law of the jungle takes effect. however,wefind that the total evacuation time increases exponentially when the ratio of selfish pedestrians increases. this means that selfish human behavior normally has a counter effect on the evacuation efficiency, and the selfless can benefit from mutual cooperation and leave the room more rapidly than defectors. (2) human emotions such as sympathy and vying affect the evacuation efficiency. a pedestrian’s sympathy promotes his cooperation with others, which is positive for the evacuation efficiency. the evacuation efficiency decreases as the vying factor rises. with a high vying factor, the total evacuation efficiency is seriously harmed. x. song et al. / physica a 447 (2016) 455–466 465 fig. 9a. evacuation time against door width (d_w) for different initial pedestrian densities. (3) as a building design factor, the door width greatly affects the evacuation efficiency.wereached the important conclusion that the door width has little influence on the total evacuation time after it reaches a size greater than six. moreover, there is always a decrease in the total evacuation time when the number of door cells increases from an odd number to an even number. acknowledgments this research was supported by grant 61473013 from national natural science foundation of china. authors thank reviewers for their comments. 466 x. song et al. / physica a 447 (2016) 455–466 fig. 9b. average group payoff (gp) against door width (d_w) for different initial pedestrian densities. references [1] jeongin koo, yong seog kim, byung-in kim, keith m. christensen, a comparative study of evacuation strategies for people with disabilities in high-rise building evacuation, expert syst. appl. 40 (2013) 408–417. [2] lu tan, mingyuan hu, hui lin, agent-based simulation of building evacuation: combining human behavior with predictable spatial accessibility in a fire emergency, inform. sci. 295 (2015) 53–66. [3] kashif zia, katayoun farrahi, andreas riener, alois ferscha, an agent-based parallel geo-simulation of urban mobility during city-scale evacuation, simulation: trans. soc. model. simul. int. 89 (10) (2013) 1184–1214. [4] marco d’orazio, luca spalazzi, enrico quagliarini, gabriele bernardini, agent-based model for earthquake pedestrians’ evacuation in urban outdoor scenarios: behavioral patterns definition and evacuation paths choice, saf. sci. 62 (2014) 450–465. [5] joão ribeiro, joão emílio almeida, rosaldo j.f. rossetti, antónio coelho, antónio leça coelho, using serious games to train evacuation behavior, inf. syst. technol. (cisti) 7 (2012) 1–6. [6] qing-yi hao, mao-bin hu, xue-qi cheng, wei-guo song, rui jiang, qing-song wu, pedestrian flow in a lattice gas model with parallel update, phys. rev. e 82 (2) (2010) 2365–2376. [7] claudio castellano, santo fortunato, vittorio loreto, statistical physics of social dynamics, rev. modern phys. 81 (2) (2009) 591–646. [8] vi ha, george lykotrafitis, agent-based modeling of a multi-room multi-floor building emergency evacuation, physica a 391 (8) (2012) 2740–2751. [9] rita f. fahy, guylène proulx, lata aiman, panic or not in fire: clarifying the misconception, fire mater. 36 (2012) 328–338. [10] christian rogsch, michael schreckenberg, eric tribble, was it panic? an overview about mass-emergencies and their origins all over the world for recent years, pedestrian evacuation dyn. (2008) 743–755. [11] katsuhiro nishinari, ansgar kirchner, alireza namazi, andreas schadschneider, extended floor field ca model for evacuation dynamics, ieee trans. inf. syst. 87 (3) (2004) 726–732. [12] c. burstedde, k. klauck, a. schadschneider, j. zittartz, simulation of pedestrian dynamics using a two-dimensional cellular automaton, physica a 295 (2001) 507–525. [13] ekaterina kirik, tat’yana yurgel’yan, dmitriy krouglov, an intelligent floor field cellular automata model for pedestrian dynamics. eprint arxiv, 2009. [14] ansgar kirchner, katsuhiro nishinari, andreas schadschneider, friction effects and clogging in a cellular automaton model for pedestrian dynamics, phys. rev. e 67 (5) (2003) 369–384. [15] xie ji-jian, xue yu, study on the dynamics of indoor pedestrian evacuation based on the game, in: international conference on natural computation, 2011, vol.4, pp. 2283–2287. [16] qing-yi hao, rui jiang, mao-bin hu, bin jia, qing-song wu, pedestrian flow dynamics in a lattice gas model coupled with an evolutionary game, phys. rev. e 84 (3) (2011) 247–268. [17] xiaoping zheng, yuan cheng, conflict game in evacuation process: a study combining cellular automata model, phys. a 390 (6) (2011) 1042–1050. [18] s. bouzat, m.n. kuperman, game theory in models of pedestrian room evacuation, phys. rev. e 89 (3) (2014) 256–266. [19] dong-mei shi, bing-hong wang, evacuation of pedestrians from a single room by using snowdrift game theories, phys. rev. e 87 (2) (2013) 022802. [20] t. miyoshi, h. nakayasu, y. ueno, et al., an emergency aircraft evacuation simulation considering passenger emotions, comput. ind. eng. 62 (3) (2012) 746–754. [21] andreas schadschneider, conflicts and friction in pedestrian dynamics, lect. notes comp. sc. 2008, vol. 5191, pp. 559–562. [22] ansgar kirchner, hubert klupfel, katsuhiro nishinari, et al., simulation of competitive egress behavior: comparison with aircraft evacuation data, physica a 324 (2003) 689–698. [23] marcelo rodrigo de souza pita, fernando buarque de lima neto, simulations of egoistic and altruistic behaviors using the vidya multiagent system platform, gecco’07, 2007, pp. 2927–2932. [24] helen c. muir, david m. bottomley, claire marrison, effects of motivation and cabin configuration on emergency aircraft evacuation behavior and rates of egress, int. j. aviat. psychol. 6 (1996) 57–77. [25] n.h. packard, s. wolfram, two-dimensional cellular automata, j. stat. phys. 38 (5–6) (1985) 901–946. [26] gabriel wurzer, kerstin kowarik, hans reschreiter, agent-based modeling and simulation in archaeology, springer international publishing, switzerland, 2015. [27] jun tanimoto, aya hagishima, yasukaka tanaka, study of bottleneck effect at an emergency evacuation exit using cellular automata model, mean field approximation analysis, and game theory, physica a 389 (24) (2010) 5611–5618. [28] ansgar kirchner, andreas schadschneider, simulation of evacuation processes using a bionics-inspired cellular automaton model for pedestrian dynamics, physica a 1 (2002) 260–276. [29] x. song, s. zhang, lidong qian, opinion dynamics in networked command and control organizations, physica a 392 (2013) 5206–5217. [30] x. song, w. shi, g. tan, y. ma, multi-level tolerance opinion dynamics in military command and control networks, physica a 437 (11) (2015) 322–332. [31] x. song, w. shi, y. ma, c. yang, impact of informal networks on opinion dynamics in hierarchically formal organization, physica a 436 (10) (2015) ======= physica a 447 (2016) 455–466 contents lists available at sciencedirect physica a journal homepage: www.elsevier.com/locate/physa selfishness- and selflessness-based models of pedestrian room evacuation xiao songa,∗, liang maa, yaofei maa,∗, chen yangb, hang ji a a school of automation science, beihang university (buaa), beijing 100191, china b department of electrical and computer engineering, university of western ontario, london, on, canada h i g h l i g h t s • selfishness- and selflessness-based model of pedestrian room evacuation is proposed. • the selfish nature of human has counter effect of the total evacuation time. • pedestrian’ sympathy shows positive effect on evacuation efficiency. • door width has little influence when it is greater than 6 (room size over 50 × 50). a r t i c l e i n f o article history: received 21 august 2015 received in revised form 20 november 2015 available online 29 december 2015 keywords: evacuation game theory pedestrian dynamics cellular automata jungle law a b s t r a c t some pedestrian evacuation studies have employed game strategy to deal with moving conflicts involving two or three pedestrians. however, most of these have simply presented game strategies for pedestrians without analyzing the reasons why they choose to defect or cooperate. we believe that selfish and selfless behaviors are two main factors that should be considered in evacuation. in addition to these behaviors, human emotions such as sympathy and behaviors such as vying were also taken into account to investigate their impacts on pedestrians’ strategies. moreover, an essential objective factor, the building design factor of door width was tested and analyzed. experimental results showed that the sense of self leads to more defectors and a longer evacuation time. however, sympathy does some good, leading to more cooperators and a shorter evacuation time. moreover, the exit door width is an essential factor of the evacuation efficiency. when the width was less than 6 cells in a rectangular room with a size greater than 50 × 50, the evacuation time greatly decreased when the width increased. however, this effect was less obvious when the width increased. © 2015 elsevier b.v. all rights reserved. 1. introduction pedestrian congestion is an important phenomenon at the exits of buildings because it may develop into serious trample accidents. therefore, pedestrian dynamics has attracted much attention in the last decade, and many studies have been performed. from the perspective of model granularity, these works can be divided into two classes: macroscopic models based on a complex topology and microscopic models based on a simple topology. the former evacuation models can be applied to situations such as tall buildings [1,2], cities [3,4], airports, and subway stations, with the goals of evacuation guidance, finding exits [1,2], or evacuation training [5] from a macroscopic perspective. however, most of these kinds ∗ corresponding authors. e-mail addresses: songxiao@buaa.edu.cn (x. song), mayaofei@163.com (y. ma). http://dx.doi.org/10.1016/j.physa.2015.12.041 0378-4371/© 2015 elsevier b.v. all rights reserved. 456 x. song et al. / physica a 447 (2016) 455–466 of evacuation scenarios ignore the details of pedestrian crowd behavior near doors or channels. in contrast, the latter evacuation models can be used to analyze the bottleneck effect at emergency exits or channels from a microscopic perspective, showing some essential pedestrian dynamics such as jamming and clogging, lane formation, and the ‘‘faster-isslower’’ effect [6–10], which reveal the essential reasons for pedestrian crowd behaviors. when comparing these two typical cases, we find that a macroscopic model leans toward time-aware applications, and a microscopic model is more suitable for studying the detailed pedestrian evacuation dynamics. normally, microscopic pedestrian models can be classified into two categories: social force models and cellular automata (ca) models [7]. while a social force model is continuous in space and time, ca models are discrete and computationally efficient. based on its simplicity and high efficiency, some recent studies have used a floor field model to find the influences of doors and barriers on pedestrian movement [11]. however, their designs mainly addressed the issue of finding a target site, neglecting the complicated interactions among pedestrians such as conflicts (two or more agents that want to advance to the same position at the same time). recently, some researchers carried out studies to solve conflict by introducing probabilities, friction effects in floor field models [6,12–14], and game theory. however, these studies only considered that different pedestrians have different probabilities of moving to the conflicted target without analyzing their selfish and selfless behaviors, or their sympathy and vying behavior. this paper is organized as follows. related works on evacuation-related theories and practices are presented in section 2. a core evacuation model is described in section 3. it contains an environment model, target site finding, game strategy, and conflict solving rules. section 4 discusses and analyzes some simulation results. finally, the conclusions are summarized in section 5. 2. related works in the last decade, numerous evacuation studies have been carried out to study the microscopic pedestrian dynamics. some works used game theory to solve the conflicts of pedestrian movements. for instance, xie and xue [15] combined ca with game theory in their study. however, the human behavior effects were not mentioned. hao et al. [16] performed some further work. in their study, the spatial distribution of pedestrians was investigated, which was found to be independent of the initial cooperation ratio when the width of a door was large enough. however, they only utilized a gaming strategy for pedestrians without addressing why they choose to defect or cooperate when gaming with other agents (pedestrians). meanwhile, some researchers proposed that emotions such as rationality and tension were the main reasons for pedestrian interactions and jams. among these, zheng and cheng [17] considered the effect of rationality, which may affect pedestrians’ evacuation strategy. they believed that individual hyper-rationality among evacuees diminished their evacuation efficiency, and the imitation effect enhanced cooperation among evacuees, yet reduced their evacuation efficiency. however, they only considered rationality in target site finding, neglecting the problem of conflict resolution. in another study, bouzat and kuperman [18] found that under certain conditions, cooperators can gain an advantage from mutual cooperation and leave the room more rapidly than defectors. they described the internal states of individuals, which are independent of what is happening outside. however, the psychological features they mentioned were only implicitly considered by the game theory, without being as concrete as pedestrian behaviors such as selfness and selflessness. moreover, shi and wang [19] indirectly introduced a cost-to-benefit ratio to a snowdrift model to simulate the fear index of pedestrians, along with pc (the probability to change the present strategy) to model a pedestrian’s strategy choice. miyoshi [20] suggests that an aircraft accident, the garuda indonesia airways accident, may have been caused by panicked agents generating time delays in the evacuation flow toward the exits. to some extent, this research shows that more pedestrians may defect under emergency conditions, showing people’s selfish nature. in schadschneider [21], the ‘‘friction’’ concept was proposed to model an important aspect of pedestrian dynamics, i.e., ‘‘conflicts in which none of the involved agents is allowed to move’’. kirchner [22] reported results obtained using cellular automata for pedestrian dynamics with friction. rodrigo [23] stated that, ‘‘those who defend psychological egoism say that healthy humans always behave in a self-interested way, even when the actions seem to be altruistic ones. thus, psychological egoism argues that altruism is merely apparent and that all behaviors are motivated by personal gain’’. these studies showed that people often have a selfish nature and thus may demonstrate selfish behavior in emergency evacuations. however, the psychological features of strategy changing were less scrutinized in these works, such as selfness, sympathy, and vying behavior. in addition to the above studies that considered the application of gaming theory to pedestrian dynamics, some other researchers studied the effect of the door width on the evacuation efficiency. for example, muir [24] presented the effects of the cabin configuration on emergency aircraft evacuation behavior and the rates of egress. kirchner [22] reported results obtained using cellular automata for pedestrian dynamics with friction. although these works investigated the effects of the door width empirically, the gaming effect was neglected, and psychologically selfish and unselfish effects were not considered. in this paper, we will try to include these factors in a further investigation of evacuation pedestrian flow. 3. models the evacuation scene is set in a rectangular room with a single door. based on cellular automata and a lattice gas model, the room has a size of w × l, and every cell can only be occupied by one pedestrian. the door width is d_w. we define a coordinate system for the room, with x coordinates ranging from 0 to w − 1, and y coordinates ranging from 0 to l − 1. at x. song et al. / physica a 447 (2016) 455–466 457 fig. 1. moving directions of pedestrians. the beginning of the simulation, we initialize the number of pedestrians n ≥ 0 (the density of pedestrians ρ = n/(w ∗ l), 0 ≤ ρ ≤ 1), and the positions of the pedestrians are randomly distributed. a time-stepped simulation is adopted, where pedestrians can move to one of their empty neighbor sites using target choosing rules at each simulation step. when more than one pedestrian attempts to move to the same site, a conflict occurs. here, we assume that all the pedestrians show either selfish or selfless behaviors, which are the key factor for them to defect or cooperate. meanwhile, the sympathy emotion of the selfish and the vying behavior of the selfless are also considered to affect the strategy evolution rules. in the simulation process, each simulation step contains three main stages: • first, with the moore neighborhood model and floor field model, every pedestrian chooses a neighboring target site to jump to. • second, following the human selfishness or selflessness choices combined with the sympathy emotion and vying behavior, pedestrians choose their strategy to defect or cooperate. • third, the payoffs are computed to solve the conflicts. each defector or cooperator moves to his desired position according to the corresponding payoff probability. finally, the simulation finishes when all the agents have abandoned the room. 3.1. stage one: neighboring target site selection rules previous studies involving a spatial game in a square lattice mostly used either a model of a moore neighborhood or von neumann neighborhood. the former has eight neighbors and the latter has four [25]. in realistic situations, an agent is more likely to have eight immediate neighbors rather than four because agents may have stochastic characteristics and some probability to move to the detour sites [26]. therefore, we use the moore neighbor model as the site choice of pedestrians. each pedestrian may move to its empty moore neighbor sites as shown by pedestrian (a) in fig. 1. some studies with a moore model (the model of a moore neighborhood) considered unidirectional movements for pedestrian flow [16], which means every pedestrian has five alternative sites, as shown by pedestrian (b) in fig. 1. in a comparison of multi-directional and unidirectional movements, we carried out two groups of experiments and found that the crowd of the former forms an arch shape [27] near the door, while the latter rule cannot form this more realistic shape, as shown in fig. 2. this result again proves that realistic pedestrian behavior is to some extent non-deterministic, as wurzer et al. [26] proposed. therefore, we employ the multi-directional rule as the pedestrian moving method. with the multi-directional method, a pedestrian often chooses the most desirable site (the site with the greatest s value) based on the static floor field model [28]. for every site in the room, its distance from the exit is inversely proportional to its s value, with a shorter distance having a greater s value. at each episode, each pedestrian chooses a target site with the probability p(i,j), p(i,j) = exp(s(i,j) ∗ kn)  (i,j)∈ω exp(s(i,j) ∗ kn) (1) where kn represents the knowledge of the exit’s location. in this paper, we give it a constant value of five. (i, j) is the index of one of the pedestrian’s empty moore neighbor sites. then, s(i,j) is the value of the static floor field, calculated using 458 x. song et al. / physica a 447 (2016) 455–466 fig. 2. comparison of two movement rules for pedestrian dynamics. the left shows unidirectional movement rules, and the right shows eight alternative movement rules. eq. (2). a larger s(i,j) means the site is closer to the exit door. ω represents the collection of indices of all the pedestrian’s empty moore neighbor sites. with this equation, pedestrians can move to the best site with higher probability. the value of the static floor field is calculated using the following equation. s(i,j) = max (i′,j′)∈ω′  (xe − x(i′,j′))2 + (ye − y(i′,j′))2 −  (xe − x(i,j))2 + (ye − y(i,j))2 (2) where x represents the x coordinate, and y represents the y coordinate. (i′, j′) represents the index of the site, and ω′ represents the collection of all the sites in the square lattices. then, max(i′,j′)∈ω′  (xe − x(i′,j′))2 + (ye − y(i′,j′))2 represents the largest distance of any site to the exit, and  (xe − x(i,j))2 + (ye − y(i,j))2 represents the distance between site (i, j) and the exit. 3.2. stage two: gaming strategies of pedestrians each agent chooses his game strategy at each time step, i.e., to cooperate or defect. in this stage, we will focus on why a pedestrian chooses to defect or cooperate and how he changes his choice. in previous studies, a pedestrian’s strategy was often invariable or changed based on a fixed rule without sufficient explanations of why pedestrians used these strategies. for example, hao [16] gave a schematic illustration of how pedestrians changed their strategy, but no reasons were illustrated. our proposition is to model the human behaviors from human nature, i.e., selfish and selfless. a selfish pedestrian is mostly concerned with what kind of strategy they should use to obtain the largest benefits when gaming with others [20,23], and the ‘‘law of the jungle’’ is most likely to be taken as their rule, i.e., each person strives for himself. comparably, the selfless pedestrian may be motivated by the acquisition of a good reputation, expectation of reciprocity, or even religious beliefs (e.g., reward in the next life, going to heaven after death, etc.). thus, in our study, we mainly divide the pedestrians into two classes, the selfish and selfless. when pedestrians experience conflicts, the selfish ones tend to defect, and the selfless tend to adopt the strategy of cooperation. sometimes the pedestrians showing selfish behavior can also show sympathy for someone else. moreover, agent-based models may also be stochastic, where randomness is introduced throughout. this may even include random changes to the rules themselves [26,29–31]. we also consider the vying behavior of the selfless, which means the selfless is unwilling to accept the defects of others, leading them to also defect. at each simulation episode, the strategy of the pedestrian may differ from the last episode. the pedestrians adopt the strategy of defecting with the probability pd and the strategy of cooperation with the probability pc , for ‘‘the selfish’’: pd = exp(−ks) pc = 1 − exp(−ks). (3) here, as previously mentioned, we consider the sympathy emotion of the selfish pedestrians, which may change the normal strategy of the selfish to one of cooperation. we introduce ks to denote the sympathy factor (0 ≤ ks). a high value x. song et al. / physica a 447 (2016) 455–466 459 of ks means the selfish are more sympathetic to others, leading them to cooperate. for ‘‘the selfless’’: pd = 1 − exp(−kw) pc = exp(−kw). (4) here, the vying of the selfless is also considered, which may change the normal strategy of the selfless to defect. we introduce kw to denote this vying factor (0 ≤ kw). a high kw means the selfless are more aggressive to defect. 3.3. stage three: conflict resolution rules in this stage, the gaming payoffs are computed to determine the probabilities of pedestrians moving to their selected sites. based on a consideration of complicated interaction, a typical game-theory model, the prisoner’s dilemma, is adopted for the resolution rules. in a prisoner’s dilemma game, there are two different strategies, which we define as cooperate (c) and defect (d). first, we take a two-player game model as an example to explain the conflict resolution rules. for the two-player game, the payoff matrix is as follows: player opponent c d c r s d t p note the first row shows the payoffs for c agents, while the second shows those for d agents. r is the payoff of the two cooperators. p is the payoff of the two defectors. when one player cooperates and the other defects, the payoffs of the cooperator and defector are (s, t ). the payoffs fulfill the condition: t > r > p > s, which implies four conclusions. (i) defectors will get the highest payoff when competing with cooperators. (ii) cooperators will get the lowest payoff when competing with defectors. (iii) cooperators will get a relatively high payoff when they meet another cooperator, which implies that joining hands will allow pedestrians to escape from the room more rapidly. (iv) defectors will get a relatively low payoff when they compete with another defect, which means when pedestrians defect with each other, jams appear, and it is hard to move. based on the consideration of the prisoner’s dilemma game, we convert the payoff matrix to a probability matrix, which represents the probability that each conflicted pedestrian moves. player opponent c d c 1/2 0 d 1 1/2p when conflict occurs, there are three possible cases. (i) if both are cooperators, each of them can move to the target site with probability 1/2. (ii) if one is a cooperator and the other is a defector, the defector will have the chance to move. (iii) if both are defectors, each of them can move to the target with probability 1/2p(1 ≤ p ≤ 2.5). here, note that a larger value of p represents a lower probability that the defectors can move to the target. they may all fail to move because of the jams. in this sense, p is a punishment to defectors. in our study, each pedestrian may compete with his neighbors in the moore neighborhood. then, the number of players in a conflict may be two to eight, which means the two-player game rules can be extended to an n-player game. player opponent (n − 1)c, 0d (m−1)c, (n−m)d c 1/n 0 d 1 1/(n − m)p when conflict occurs in an n-player game, there are two kinds of cases. (i) if all are cooperators, each of them can move to the target site with probability 1/n. (ii) if there are m cooperators and n − m defectors, the cooperators will stay, and each of the defectors can move to the target with probability 1/(n−m)p. here, note that in case (ii), each defector may win with probability 1/(n − m)p. thus, the probability of having a winner is 1/(n − m)p−1. they may all fail to move because of the jams, and more defectors will make the jams more serious. in our study, the effect of punishment on the evacuation dynamics is considered. thus, we consider 1 ≤ p ≤ 2.5. here, we propose to compute a value called the game group payoff (gp), which is the sum of the payoffs (probabilities) of the players in a game group. in a game, the gp ranges from 0 to 1. this also represents the probability for a game group to move. more defectors in a game, will cause the gp to be smaller. in other words, the gp reflects the degree of fierceness 460 x. song et al. / physica a 447 (2016) 455–466 fig. 3. snapshot of room evacuation with population parameters l = w = 50, ρ = 0.4, d_w = 2, ks = 0, kw = 0, and rs0 = 0.5. in a game. expanding gp to the whole evacuation process, by counting the mean value of gp in an evacuation, allows us to infer the degree of fierceness of an evacuation. once the strategy selection and conflicts have been resolved, the winner of the game will move to his target site. if any pedestrians arrive at the exit, the system will remove them. 4. simulation and analysis the pedestrian dynamics is studied by conducting experiments for the following cases. (i) to study the evacuation effect of the ratio of selfish pedestrians, experiments are implemented to determine how a heterogeneous population with selfish and selfless pedestrians affects the evacuation efficiency. (ii) to analyze the evacuation effects of human emotions and behaviors, a group of simulations are devised to study how the sympathy factor (ks) and vying factor (kw) affect the evacuation efficiency. (iii) to study the evacuation effect of the exit door width, we design a group of experiments to determine how the building design factors such as the door width affect the evacuation efficiency. in this study, the evacuation time equals the number of simulation steps when all the pedestrians completely escape from the room. to provide trustworthy results for the following figures, the tests were executed 100 times, and the mean values are displayed. the half-width of each confidence interval was less than 5% of the mean respective value when the confidence level was 0.95. 4.1. evacuation effect of selfish pedestrian ratio in this section, we design experiments for a heterogeneous population with different social behaviors, i.e., the selfish and selfless pedestrians. selfish pedestrians are concerned with the best strategy for obtaining the largest benefits when gaming with others. they may follow the law of the jungle and tend to defect. on the other hand, the selfless pedestrians choose to cooperate when they conflict with another pedestrian. in this case, we design a system with a fixed door width and fixed pedestrian density to study some additional relevant parameters affecting evacuation, such as the initial selfish ratio (rs0) and average game group payoff (gp). a snapshot of the pedestrians in an evacuation simulation is shown in fig. 3. fig. 4 shows the total evacuation time as a function of the initial selfish ratio (rs0) with fixed parameters, where ρ is 0.6, ks is 0, and kw is 0. we can observe an exponential growth in the total evacuation time with the initial selfish pedestrian ratio. this increase in the time is due to the fact that a larger value of rs0 will result in a larger number of defect pedestrians, resulting in a lower evacuation efficiency. x. song et al. / physica a 447 (2016) 455–466 461 fig. 4. evacuation time against ratio of selfish pedestrians (rs0). fig. 5. evolution of gp with change in selfish ratio (rs0). in an evacuation process the selfish always show their advantage on escaping just like the laws of jungle. however, when the ratio of the selfish increases, the evacuation efficiency always decreases exponentially. to study the deeper factors affecting the evacuation efficiency, we determine the statistics of the average group game payoff (gp), which represents the conflict degree of the game (a smaller gp means greater conflict and vice versa) in the evacuation process, as shown in fig. 5. fig. 5 shows the evolution of gp with a change in the initial selfish ratio (rs0). it shows a decrease when rs0 increases, which means more selfish pedestrians result in more fierce competitions. this shows that increasing rs0 decreases the evacuation efficiency, due to more gaming conflicts. 4.2. evacuation effect of gaming punishment value in this section, we take the gaming punishment value into consideration. as depicted in section 3.3, each defector may win with probability 1/(n − m)p. thus, the probability of having a winner is 1/(n − m)p−1. if p is greater than 1, all of the pedestrians may fail to move at one time because of the friction, and more defectors lead to worse conditions. in this section, we try to investigate how the punishment p affects the evacuation efficiency. here, experiments are respectively implemented for the all selfishness case (rs = 1.0) and all selflessness case (rs = 0). fig. 6 shows the total evacuation time against the initial pedestrian density and punishment value, with the parameters d_w = 2, ks = 0, and kw = 0. in fig. 6a, all the pedestrians are selfish (rs = 1.0).wecan observe a linear growth in the total evacuation time with the punishment. this increase in the time occurs because as the value of p increases, more pedestrians (in the same conflict group) fail to move to their target. on the other hand, we consider the scene when all the pedestrians are selfless (rs = 0). in fig. 6b, we find that no matter how we change the punishment value, the evacuation efficiency stays the same. this is because when kw equals zero, the selfless pedestrians all maintain their cooperation strategy. thus, there is no punishment in the conflict. 462 x. song et al. / physica a 447 (2016) 455–466 fig. 6a. total evacuation time against different punishment values, with all selfish pedestrians. fig. 6b. total evacuation time against different punishment values, with all selfless pedestrians. 4.3. evacuation effect of human emotions in this section, we attempt to analyze how human behaviors and emotions affect the evacuation efficiency. here, the emotions mainly refer to sympathy and vying. for the sympathy, we design a case where the ratio of selfish pedestrians is fixed at one. in this case, all the pedestrians have high physical strength and change their defecting strategy based on their sympathy factor (ks). a high sympathy value means the selfish pedestrians are more likely to cooperate, and a low sympathy value means they tend to defect. fig. 7 shows the results for the evacuation time with different sympathy factors (ks). we can observe that a larger real time cooperation ratio (rc ) often leads to a shorter evacuation time because of fewer conflicts. in fig. 7a, we see that the evacuation time exponentially decreases when ks increases. in addition, when ks is zero, all the selfish pedestrians show no sympathy for others and choose the defect strategy. this greatly lowers the evacuation efficiency. when ks reaches a value of eight, all the selfish pedestrians tend to cooperate with others, which makes the evacuation time close to the minimum. fig. 7b shows the evolution of the cooperation ratio for different ks. as discussed in sections 3.2 and 3.3, we adopt a strategy evolution rule, in which a pedestrian’s game strategy may vary throughout the whole evacuation process. in this figure, we can observe that the cooperation ratio oscillates all the time because the pedestrians change their game strategies at each time step. when ks is low, the pedestrians tend to defect, and when ks is high, the pedestrians tend to cooperate, which results in a high cooperation ratio for a high ks and a low cooperation ratio for a low ks. this shows that a virtue of the pedestrians, such as sympathy, can cause them to help each other and improve the evacuation efficiency. for the vying behavior, we consider the case where the pedestrians are all selfless. in this case, all the pedestrians have a low physical strength and change their cooperation strategies based on their vying factor (kw). a high vying value means that the selfless pedestrians tend to defect, whereas with a low vying value, they tend to keep their normal strategy and cooperate. we mainly study how vying affects the evacuation efficiency in this case. in order to display the simulation dynamics, we design the experiment to consider parameters that include the vying factor (kw) and real-time cooperation ratio (rc ). fig. 8 mainly shows the results of the total evacuation time with different vying factors (kw) and real time cooperation ratios (rc ). in fig. 8a, we see that the evacuation time exponentially increases with kw. note that when kw is zero, the x. song et al. / physica a 447 (2016) 455–466 463 fig. 7a. result of total evacuation time against different sympathy factors (ks). fig. 7b. real time cooperation ratio (rc) changes with different ks. fig. 8a. total evacuation time with different vying factors (kw). pedestrians all choose the strategy of cooperation, and in this situation, they have more success in evacuating. when kw reaches a value of eight, the selfless cannot tolerate the defectors, so they tend to defect, which leads to the longest evacuation time. fig. 8b shows the evolution of the cooperation ratio for different kw. similar to fig. 7b, we see that based on the strategy evolution rule, the cooperation ratio oscillates at a certain value because of the pedestrians changing their game strategies at every time step. when kw is low, the pedestrians tend to cooperate, and when kw is high, the pedestrians tend to defect, which results in a high cooperation ratio for a low kw and a low cooperation ratio for a high kw. 464 x. song et al. / physica a 447 (2016) 455–466 fig. 8b. real time cooperation ratio (rc) with different kw. 4.4. evacuation effect of door width to compute the exit width’s effect on the evacuation efficiency, in this subsection we mainly consider cases in which the ratio of selfish pedestrians is fixed at one. we try to study how building design factors such as the door width affect the evacuation efficiency. fig. 8 shows the results for the evacuation time in a square room with different door widths (d_w) and initial pedestrian densities (ρ). in fig. 8a, we can observe that the evacuation time decreases with an increase in d_w. three conclusions can be drawn from fig. 9. first, the door width has a great impact on the evacuation efficiency when it is small. for instance, the evacuation time becomes much shorter when d_w increases from 1 cell to 2 cells. fig. 9b gives the proof that the gp value rises sharply against the door width when it is small. second, when the door width is larger than 6 cells, it does not have an obvious influence on the evacuation time. this conclusion can be used as a reference for door width design. fig. 9b gives proof that the gp value reaches a relatively stable value when the door width exceeds six. third, there is always a jump in t when d_w increases from an odd number to an even number, and this phenomenon is clearer with a greater density. this means that an even number of door width cells may have a greater effect on decreasing the evacuation time than an odd number of door width cells. fig. 9b gives proof that the gp value has an obvious rise when the door width increases from an odd number to an even number. fourth, with the same door width, the evacuation time linearly increases as the pedestrian density increases. however, note that the slope of the different door width line is not the same. it decreases when the door width increases. this is because a smaller width causes more gaming conflicts and results in a longer evacuation time. 5. conclusion previous studies primarily considered the ratio of game strategies (cooperate and defect) as the main study parameter. however, most of them neglected the fact that the game strategy is determined by a human’s selfish or selfless behavior, and thus involves emotions such as sympathy and vying. in this paper, we assumed that the human sense of self leads to a defecting or cooperation gaming strategy based on his behavior choice and emotions. thus, human behavior was considered with game theory to study a more realistic microscopic pedestrian crowd evacuation model. several conclusions are drawn as follows. (1) in an evacuation process, the selfish pedestrians always have an advantage in escaping because the law of the jungle takes effect. however,wefind that the total evacuation time increases exponentially when the ratio of selfish pedestrians increases. this means that selfish human behavior normally has a counter effect on the evacuation efficiency, and the selfless can benefit from mutual cooperation and leave the room more rapidly than defectors. (2) human emotions such as sympathy and vying affect the evacuation efficiency. a pedestrian’s sympathy promotes his cooperation with others, which is positive for the evacuation efficiency. the evacuation efficiency decreases as the vying factor rises. with a high vying factor, the total evacuation efficiency is seriously harmed. x. song et al. / physica a 447 (2016) 455–466 465 fig. 9a. evacuation time against door width (d_w) for different initial pedestrian densities. (3) as a building design factor, the door width greatly affects the evacuation efficiency.wereached the important conclusion that the door width has little influence on the total evacuation time after it reaches a size greater than six. moreover, there is always a decrease in the total evacuation time when the number of door cells increases from an odd number to an even number. acknowledgments this research was supported by grant 61473013 from national natural science foundation of china. authors thank reviewers for their comments. 466 x. song et al. / physica a 447 (2016) 455–466 fig. 9b. average group payoff (gp) against door width (d_w) for different initial pedestrian densities. references [1] jeongin koo, yong seog kim, byung-in kim, keith m. christensen, a comparative study of evacuation strategies for people with disabilities in high-rise building evacuation, expert syst. appl. 40 (2013) 408–417. [2] lu tan, mingyuan hu, hui lin, agent-based simulation of building evacuation: combining human behavior with predictable spatial accessibility in a fire emergency, inform. sci. 295 (2015) 53–66. [3] kashif zia, katayoun farrahi, andreas riener, alois ferscha, an agent-based parallel geo-simulation of urban mobility during city-scale evacuation, simulation: trans. soc. model. simul. int. 89 (10) (2013) 1184–1214. [4] marco d’orazio, luca spalazzi, enrico quagliarini, gabriele bernardini, agent-based model for earthquake pedestrians’ evacuation in urban outdoor scenarios: behavioral patterns definition and evacuation paths choice, saf. sci. 62 (2014) 450–465. [5] joão ribeiro, joão emílio almeida, rosaldo j.f. rossetti, antónio coelho, antónio leça coelho, using serious games to train evacuation behavior, inf. syst. technol. (cisti) 7 (2012) 1–6. [6] qing-yi hao, mao-bin hu, xue-qi cheng, wei-guo song, rui jiang, qing-song wu, pedestrian flow in a lattice gas model with parallel update, phys. rev. e 82 (2) (2010) 2365–2376. [7] claudio castellano, santo fortunato, vittorio loreto, statistical physics of social dynamics, rev. modern phys. 81 (2) (2009) 591–646. [8] vi ha, george lykotrafitis, agent-based modeling of a multi-room multi-floor building emergency evacuation, physica a 391 (8) (2012) 2740–2751. [9] rita f. fahy, guylène proulx, lata aiman, panic or not in fire: clarifying the misconception, fire mater. 36 (2012) 328–338. [10] christian rogsch, michael schreckenberg, eric tribble, was it panic? an overview about mass-emergencies and their origins all over the world for recent years, pedestrian evacuation dyn. (2008) 743–755. [11] katsuhiro nishinari, ansgar kirchner, alireza namazi, andreas schadschneider, extended floor field ca model for evacuation dynamics, ieee trans. inf. syst. 87 (3) (2004) 726–732. [12] c. burstedde, k. klauck, a. schadschneider, j. zittartz, simulation of pedestrian dynamics using a two-dimensional cellular automaton, physica a 295 (2001) 507–525. [13] ekaterina kirik, tat’yana yurgel’yan, dmitriy krouglov, an intelligent floor field cellular automata model for pedestrian dynamics. eprint arxiv, 2009. [14] ansgar kirchner, katsuhiro nishinari, andreas schadschneider, friction effects and clogging in a cellular automaton model for pedestrian dynamics, phys. rev. e 67 (5) (2003) 369–384. [15] xie ji-jian, xue yu, study on the dynamics of indoor pedestrian evacuation based on the game, in: international conference on natural computation, 2011, vol.4, pp. 2283–2287. [16] qing-yi hao, rui jiang, mao-bin hu, bin jia, qing-song wu, pedestrian flow dynamics in a lattice gas model coupled with an evolutionary game, phys. rev. e 84 (3) (2011) 247–268. [17] xiaoping zheng, yuan cheng, conflict game in evacuation process: a study combining cellular automata model, phys. a 390 (6) (2011) 1042–1050. [18] s. bouzat, m.n. kuperman, game theory in models of pedestrian room evacuation, phys. rev. e 89 (3) (2014) 256–266. [19] dong-mei shi, bing-hong wang, evacuation of pedestrians from a single room by using snowdrift game theories, phys. rev. e 87 (2) (2013) 022802. [20] t. miyoshi, h. nakayasu, y. ueno, et al., an emergency aircraft evacuation simulation considering passenger emotions, comput. ind. eng. 62 (3) (2012) 746–754. [21] andreas schadschneider, conflicts and friction in pedestrian dynamics, lect. notes comp. sc. 2008, vol. 5191, pp. 559–562. [22] ansgar kirchner, hubert klupfel, katsuhiro nishinari, et al., simulation of competitive egress behavior: comparison with aircraft evacuation data, physica a 324 (2003) 689–698. [23] marcelo rodrigo de souza pita, fernando buarque de lima neto, simulations of egoistic and altruistic behaviors using the vidya multiagent system platform, gecco’07, 2007, pp. 2927–2932. [24] helen c. muir, david m. bottomley, claire marrison, effects of motivation and cabin configuration on emergency aircraft evacuation behavior and rates of egress, int. j. aviat. psychol. 6 (1996) 57–77. [25] n.h. packard, s. wolfram, two-dimensional cellular automata, j. stat. phys. 38 (5–6) (1985) 901–946. [26] gabriel wurzer, kerstin kowarik, hans reschreiter, agent-based modeling and simulation in archaeology, springer international publishing, switzerland, 2015. [27] jun tanimoto, aya hagishima, yasukaka tanaka, study of bottleneck effect at an emergency evacuation exit using cellular automata model, mean field approximation analysis, and game theory, physica a 389 (24) (2010) 5611–5618. [28] ansgar kirchner, andreas schadschneider, simulation of evacuation processes using a bionics-inspired cellular automaton model for pedestrian dynamics, physica a 1 (2002) 260–276. [29] x. song, s. zhang, lidong qian, opinion dynamics in networked command and control organizations, physica a 392 (2013) 5206–5217. [30] x. song, w. shi, g. tan, y. ma, multi-level tolerance opinion dynamics in military command and control networks, physica a 437 (11) (2015) 322–332. [31] x. song, w. shi, y. ma, c. yang, impact of informal networks on opinion dynamics in hierarchically formal organization, physica a 436 (10) (2015) >>>>>>> 2722771823fc534d44839a79e520392765d8cbd3 916–924.
